(this["webpackJsonpsketch-manager"]=this["webpackJsonpsketch-manager"]||[]).push([[0],{167:function(e,t,n){e.exports=n.p+"static/media/conEdison_logo.5f69d530.png"},175:function(e,t,n){e.exports=n.p+"static/media/conEdison_horizontal.4459e045.png"},176:function(e,t,n){e.exports=n.p+"static/media/404.bd398489.png"},191:function(e,t,n){e.exports=n(280)},195:function(e,t,n){},280:function(e,t,n){"use strict";n.r(t);var a,r,o,i=n(0),c=n.n(i),l=n(51),u=n.n(l),s=(n(195),n(29)),d=n(4),f=function(e){var t=localStorage.getItem(e.toString());return t||!1},m=n(91),p=n(92),v=n(71),h=n.n(v),g="https://sketch-manager-be.herokuapp.com",b=new(function(){function e(){Object(m.a)(this,e),this.init()}return Object(p.a)(e,[{key:"init",value:function(){this.setHeader(),this.setAuthorization()}},{key:"api",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g;return this.setBaseUrl(e),h.a}},{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return h.a.create(e)}},{key:"setBaseUrl",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g;h.a.defaults.baseURL=e}},{key:"setHeader",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"application/json";h.a.defaults.headers.post["Content-Type"]=e}},{key:"setAuthorization",value:function(e){e&&(h.a.defaults.headers.common.Authorization="".concat(e))}},{key:"deleteInterceptor",value:function(e){h.a.interceptors.request.eject(e)}}]),e}()),E=c.a.createContext({session:!1,deleteSession:function(){},createSession:function(){},getSession:function(){return!1}}),x=function(e){var t=e.children,n=Object(i.useState)(!1),a=Object(d.a)(n,2),r=a[0],o=a[1];Object(i.useLayoutEffect)((function(){var e=f("user-session-skm");if(e&&"string"===typeof e){o(!0);var t=JSON.parse(e).token;b.setAuthorization(t)}}),[r]);return c.a.createElement(E.Provider,{value:{session:r,createSession:function(e){!function(e,t){var n=t;"object"==typeof n&&(n=JSON.stringify(n)),localStorage.setItem(e,n)}("user-session-skm",JSON.stringify(e)),o(!0)},deleteSession:function(){var e;e="user-session-skm",localStorage.removeItem(e.toString()),localStorage.getItem(e.toString()),o(!1)},getSession:function(){var e=f("user-session-skm");return!(!e||"string"!==typeof e||"object"!==typeof(e=JSON.parse(e)))&&e}}},t)},y=n(178),O=n(67),j=n(307),S=n(308),C=n(64),k=n(161),w=C.c,T=[k.a],R=w(C.a.apply(void 0,T)),M=n(162),P=n(27),D=n(2),L=n(56),I=n(311),N=n(312),A=Object(L.Map)({fetching:!1,error:!1,success:!1,data:{}}),B=Object(I.a)({AUTH_REQUEST:function(){return Object(D.a)(Object(D.a)({},A),{},{fetching:!0})},AUTH_SUCCESS:function(e){return{fetching:!1,success:!0,error:!1,data:e}},AUTH_FAILURE:function(){return{fetching:!1,error:!0}}}),z=B.authRequest,F=B.authSuccess,H=B.authFailure,U=Object(N.a)((a={},Object(P.a)(a,z,(function(e,t){var n=t.payload,a=n.fetching,r=n.success,o=n.error,i=n.data;return e.withMutations((function(e){e.set("fetching",a),e.set("success",r),e.set("error",o),e.set("data",i)}))})),Object(P.a)(a,F,(function(e,t){var n=t.payload,a=n.fetching,r=n.success,o=n.data;return e.withMutations((function(e){e.set("fetching",a),e.set("success",r),e.set("data",o)}))})),Object(P.a)(a,H,(function(e,t){var n=t.payload,a=n.fetching,r=n.error;return e.withMutations((function(e){e.set("fetching",a),e.set("error",r)}))})),a),A),G=Object(L.Map)({fetching:!1,error:!1,success:!1,data:{}}),V=Object(I.a)({VALIDTICKET_REQUEST:function(){return Object(D.a)(Object(D.a)({},G),{},{fetching:!0})},VALIDTICKET_SUCCESS:function(e){return{fetching:!1,success:!0,error:!1,data:e}},VALIDTICKET_FAILURE:function(){return{fetching:!1,error:!0}}}),_=V.validticketRequest,W=V.validticketSuccess,Y=V.validticketFailure,q=Object(N.a)((r={},Object(P.a)(r,_,(function(e,t){var n=t.payload,a=n.fetching,r=n.success,o=n.error,i=n.data;return e.withMutations((function(e){e.set("fetching",a),e.set("success",r),e.set("error",o),e.set("data",i)}))})),Object(P.a)(r,W,(function(e,t){var n=t.payload,a=n.fetching,r=n.success,o=n.data;return e.withMutations((function(e){e.set("fetching",a),e.set("success",r),e.set("data",o)}))})),Object(P.a)(r,Y,(function(e,t){var n=t.payload,a=n.fetching,r=n.error;return e.withMutations((function(e){e.set("fetching",a),e.set("error",r)}))})),r),G),J=Object(L.Map)({material:[],pressure:[],size:[],method:[],length:"",year:"",cover:[70]}),X=Object(I.a)({SET_MATERIAL:function(e){return{material:e}},SET_METHOD:function(e){return{method:e}},SET_SIZE:function(e){return{size:e}},SET_PRESSURE:function(e){return{pressure:e}},SET_YEAR:function(e){return{year:e}},SET_LENGTH:function(e){return{length:e}},SET_COVER:function(e){return{cover:e}}}),$=X.setMaterial,K=X.setMethod,Q=X.setSize,Z=X.setPressure,ee=X.setYear,te=X.setLength,ne=X.setCover,ae=Object(N.a)((o={},Object(P.a)(o,$,(function(e,t){var n=t.payload.material;return e.withMutations((function(e){e.set("material",n)}))})),Object(P.a)(o,K,(function(e,t){var n=t.payload.method;return e.withMutations((function(e){e.set("method",n)}))})),Object(P.a)(o,Q,(function(e,t){var n=t.payload.size;return e.withMutations((function(e){e.set("size",n)}))})),Object(P.a)(o,Z,(function(e,t){var n=t.payload.pressure;return e.withMutations((function(e){e.set("pressure",n)}))})),Object(P.a)(o,ee,(function(e,t){var n=t.payload.year;return e.withMutations((function(e){e.set("year",n)}))})),Object(P.a)(o,ne,(function(e,t){var n=t.payload.cover;return e.withMutations((function(e){e.set("cover",n)}))})),Object(P.a)(o,te,(function(e,t){var n=t.payload.length;return e.withMutations((function(e){e.set("length",n)}))})),o),J),re=Object(M.combineReducers)({auth:U,validTicket:q,pipeForm:ae}),oe=Object(C.d)(re,R),ie=n(63),ce=n(22),le=n(9),ue=n(10);function se(){var e=Object(le.a)(['\n    font-family: UberMove, UberMoveText, system-ui, "Helvetica Neue", Helvetica, Arial, sans-serif;\n    color: #10A5C3;\n    font-size: 50px;\n    margin: -35px auto 0;\n    text-align: center;\n    \n\n']);return se=function(){return e},e}function de(){var e=Object(le.a)(['\n    font-family: UberMove, UberMoveText, system-ui, "Helvetica Neue", Helvetica, Arial, sans-serif;\n    color: #10A5C3;\n    font-size: 40px;\n    margin: 10px;\n    text-align: center;\n    max-width:300px;\n']);return de=function(){return e},e}function fe(){var e=Object(le.a)(['\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  padding: 0px 30px;\n  min-height: calc(100vh - 200px);\n  \n\n.login__container{\n  font-family: UberMove, UberMoveText, system-ui, "Helvetica Neue", Helvetica, Arial, sans-serif;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  min-height: calc(100vh - 200px);\n  justify-content: space-around;\n  padding: auto;\n  color: black;\n  min-height: 150px; \n}\n']);return fe=function(){return e},e}function me(){var e=Object(le.a)(['\n  margin: 0;\n  font-family: UberMove, UberMoveText, system-ui, "Helvetica Neue", Helvetica, Arial, sans-serif;\n  display: flex;\n  flex-direction: column;\n  align-items:center;\n  min-height: 100vh; \na {\n  color: white;\n  cursor: pointer;\n  text-decoration: none;\n}\n']);return me=function(){return e},e}var pe=ue.a.div(me()),ve=ue.a.section(fe()),he=ue.a.h1(de()),ge=ue.a.p(se()),be=n(38),Ee=n.n(be),xe=n(58),ye=n(317),Oe=n(25),je=n(314),Se=n(281);function Ce(){var e=Object(le.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  width: calc(100vh - 300px);\n  margin-top:auto;\n  max-width: 400px;\n"]);return Ce=function(){return e},e}var ke=ue.a.section(Ce()),we=b.api(),Te=new function(e){return{login:function(t,n){return e.post("/sessions/login",{username:t,password:n})}}}(we),Re=new function(e){return{validTicket:function(t){return e.post("/tickets/validTicket",{number:t})}}}(we),Me=function(e,t){var n=t.username,a=t.password;return e(z()),Te.login(n,a).then((function(t){var n=t.data;return e(F(n)),n})).catch((function(t){var n=t.message;return e(H()),{access_granted:!1,error:n}}))},Pe=function(){var e=Object(i.useState)(""),t=Object(d.a)(e,2),n=t[0],a=t[1],r=Object(i.useState)(""),o=Object(d.a)(r,2),l=o[0],u=o[1],f=Object(i.useState)(!1),m=Object(d.a)(f,2),p=m[0],v=m[1],h=Object(i.useContext)(E).createSession,g=Object(s.b)(),b=Object(s.c)((function(e){return e.get("auth").toObject()})).fetching,x=function(){var e=Object(xe.a)(Ee.a.mark((function e(){var t;return Ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Me(g,{username:n,password:l});case 2:t=e.sent,Object.prototype.hasOwnProperty.call(t,"error")?(v(!0),a(""),u("")):h(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return c.a.createElement(ke,null,p&&c.a.createElement(ye.a,{kind:Oe.a.negative},"Authenticacion Failed"),c.a.createElement(je.a,{value:n,onChange:function(e){a(e.currentTarget.value),p&&v(!1)},type:"text",placeholder:"User",error:p,overrides:{Root:{style:function(e){e.$theme;return{margin:"10px 0"}}}}}),c.a.createElement(je.a,{value:l,onChange:function(e){u(e.currentTarget.value),p&&v(!1)},placeholder:"Password",type:"password",error:p,overrides:{Root:{style:function(e){e.$theme;return{marginBottom:"15px"}}}}}),c.a.createElement(Se.a,{type:"submit",disabled:""===n||""===l||b,onClick:x,isLoading:b,overrides:{BaseButton:{style:{width:"100%"}}}},"LOGIN"))};function De(){var e=Object(le.a)(["\n  margin-bottom:30px;\n\n  -webkit-box-shadow: 0 8pt 16pt rgba(0, 0, 0, 0.2);\n  -moz-box-shadow: 0 8pt 16pt rgba(0, 0, 0, 0.2);\n  box-shadow: 0 8pt 16pt rgba(0, 0, 0, 0.2);\n\n"]);return De=function(){return e},e}function Le(){var e=Object(le.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  width: calc(100vh - 300px);\n  margin-top:90px;\n"]);return Le=function(){return e},e}var Ie,Ne,Ae,Be=ue.a.section(Le()),ze=ue.a.img(De()),Fe=n(167),He=n.n(Fe),Ue=function(e){var t=e.children;return c.a.createElement(Be,null,c.a.createElement(ze,{src:He.a,alt:"conEdison logo",width:"180"}),t)},Ge=function(){return c.a.createElement(pe,null,c.a.createElement(ve,null,c.a.createElement(Ue,null,c.a.createElement(ge,null,"........................."),c.a.createElement(he,null,"EVERYTHING MATTERS"),c.a.createElement(Pe,null))))},Ve=function(){return c.a.createElement(ce.c,null,c.a.createElement(ce.a,{exact:!0,path:"/",component:Ge}),c.a.createElement(ce.a,{exact:!0,path:"*",component:Ge}))},_e=n(310),We=n(318),Ye=n(319),qe=n(298),Je=n(79),Xe=n(300),$e=n(168),Ke=n(299);!function(e){e.rect="rect-module",e.text="text-module",e.line="line-module",e.valve="valve-module",e.drip="drip-module",e.reducer="reducer-module",e.union="union-module"}(Ie||(Ie={})),function(e){e[e.block=16]="block"}(Ne||(Ne={})),function(e){e.tf="TF",e.ij="IJ",e.simple="J",e.uni="UNI"}(Ae||(Ae={}));var Qe,Ze={x:200,y:200,width:450,height:5,value:'500"',data:{},rotation:0,id:"rect-code",name:"guideLine-element"},et={x:200,y:200,fontSize:15,text:"",id:"label-code",name:"guideLine-element"},tt={x:200,y:200,radius:8,code:"V#12345",id:"circle-code",name:"guideLine-element",rotation:0},nt={x:200,y:200,code:'12"',id:"triangle-code",name:"guideLine-element",width:30,height:15,rotation:0},at={x:200,y:200,id:"coupling-code",type:Ae.uni,text:"",name:"guideLine-element",rotation:0},rt=[{label:"Pipe",key:Ie.rect,icon:"BsDash"},{label:"Coupling",key:Ie.union,icon:"BsCrop"},{label:"Valve",key:Ie.valve,icon:"BsCircle"},{label:"Drip",key:Ie.drip,icon:"BsCircleFill"},{label:"Reducer",key:Ie.reducer,icon:"BsCaretRightFill"},{label:"Label",key:Ie.text,icon:"BsTextareaT"}],ot=[{label:"PE",id:"PE"},{label:"PT",id:"PT"},{label:"ST",id:"ST"},{label:"ST (C)",id:"ST(C)"},{label:"CI",id:"CI"},{label:"CT",id:"CT"},{label:"WI",id:"WI"}],it=[{label:"DB",id:"DB"},{label:"INSERT",id:"INSERT"},{label:"HOLEHOG",id:"HOLEHOG"},{label:"PIM",id:"PIM"},{label:"CONSPLIT",id:"CONSPLIT"}],ct=[{label:"LP",id:"LP"},{label:"MP",id:"MP"},{label:"IP",id:"IP"},{label:"HP",id:"HP"},{label:"TP",id:"TP"}],lt=[{label:'1"',id:"1"},{label:'1-1/4"',id:"1-1/4"},{label:'1-1/2"',id:"1-1/2"},{label:'2"',id:"2"},{label:'3"',id:"3"},{label:'4"',id:"4"},{label:'6"',id:"6"},{label:'8"',id:"8"},{label:'12"',id:"12"},{label:'16"',id:"16"},{label:'20"',id:"20"},{label:'24"',id:"24"}],ut=[{label:"BALL",id:"BALL"},{label:"PLUG",id:"PLUG"},{label:"GATE",id:"GATE"}],st=[{label:"INSTALLED NEW",id:"INSTALLED_NEW"},{label:"ABANDONED",id:"ABANDONED"},{label:"REPAIRED",id:"REPAIRED"},{label:"OPERATED",id:"OPERATED"}],dt=[{label:"INSTALLED NEW",id:"INSTALLED_NEW"},{label:"REMOVED",id:"REMOVED"},{label:"ABANDONED",id:"ABANDONED"},{label:"REPAIRED",id:"REPAIRED"},{label:"LOCATION CHANGED",id:"LOCATION_CHANGED"}],ft=n(65),mt=c.a.createContext({rectangles:[],reducers:[],valves:[],drips:[],texts:[],couplings:[],addText:function(){},addReact:function(){},addReducers:function(){},addValves:function(){},addDrips:function(){},addCoupling:function(){},updateTexts:function(){},updateValves:function(){},updateReact:function(){},updateDrips:function(){},updateReducers:function(){},updateCouplings:function(){},deleteTexts:function(){},deleteValves:function(){},deleteReact:function(){},deleteDrips:function(){},deleteReducers:function(){},deleteCouplings:function(){}}),pt=function(e){var t=e.children,n=c.a.useState([]),a=Object(d.a)(n,2),r=a[0],o=a[1],i=c.a.useState([]),l=Object(d.a)(i,2),u=l[0],s=l[1],f=c.a.useState([]),m=Object(d.a)(f,2),p=m[0],v=m[1],h=c.a.useState([]),g=Object(d.a)(h,2),b=g[0],E=g[1],x=c.a.useState([]),y=Object(d.a)(x,2),O=y[0],j=y[1],S=c.a.useState([]),C=Object(d.a)(S,2),k=C[0],w=C[1],T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"object"===typeof e&&0!==Object.keys(e).length},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;T(e)&&t((function(t){return[].concat(Object(ft.a)(t),[e])}))};return c.a.createElement(mt.Provider,{value:{rectangles:r,couplings:k,texts:u,valves:p,drips:b,reducers:O,addReact:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return R(e,o)},addText:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return R(e,s)},addValves:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return R(e,v)},addDrips:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return R(e,E)},addReducers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return R(e,j)},updateReact:function(e){return o(e)},updateCouplings:function(e){return w(e)},updateTexts:function(e){return s(e)},updateValves:function(e){return v(e)},updateDrips:function(e){return E(e)},updateReducers:function(e){return j(e)},addCoupling:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return R(e,w)},deleteReact:function(e){return o(e)},deleteValves:function(e){return v(e)},deleteTexts:function(e){return s(e)},deleteDrips:function(e){return E(e)},deleteReducers:function(e){return j(e)},deleteCouplings:function(e){return w(e)}}},t)},vt=n(5),ht=Object(vt.a)("div",{display:"grid",gridGap:"10px",gridTemplateColumns:"repeat(2, 1fr)",marginBottom:"10px"}),gt=function(){};!function(e){e.setValue="value",e.setPressure="pressure",e.setSizev="sizev",e.setSize="size",e.setMaterial="material",e.setMaterialv="materialv",e.setType="type",e.setHasBeen="hasbeen",e.setAll="all"}(Qe||(Qe={}));var bt,Et={value:Array(5).fill(""),pressure:[],sizev:[],size:[],material:[],materialv:[],type:[],hasBeen:[]},xt=function(e,t){switch(t.type){case Qe.setMaterial:return Object(D.a)(Object(D.a)({},e),{},{material:t.value});case Qe.setValue:return Object(D.a)(Object(D.a)({},e),{},{value:t.value});case Qe.setPressure:return Object(D.a)(Object(D.a)({},e),{},{pressure:t.value});case Qe.setSizev:return Object(D.a)(Object(D.a)({},e),{},{sizev:t.value});case Qe.setSize:return Object(D.a)(Object(D.a)({},e),{},{size:t.value});case Qe.setMaterialv:return Object(D.a)(Object(D.a)({},e),{},{materialv:t.value});case Qe.setType:return Object(D.a)(Object(D.a)({},e),{},{type:t.value});case Qe.setHasBeen:return Object(D.a)(Object(D.a)({},e),{},{hasBeen:t.value});case Qe.setAll:return Object(D.a)(Object(D.a)({},e),t.value);default:throw new Error}},yt=function(e){var t=e.cancell,n=void 0===t?gt:t,a=e.isOpen,r=void 0!==a&&a,o=Object(s.c)((function(e){return e.get("pipeForm").toObject()})),l=o.material,u=o.pressure,f=o.size,m=Object(i.useReducer)(xt,Et),p=Object(d.a)(m,2),v=p[0],h=v.pressure,g=v.sizev,b=v.size,E=v.materialv,x=v.material,y=v.value,O=v.type,j=v.hasBeen,S=p[1],C=c.a.useContext(mt),k=C.addValves,w=C.valves;Object(i.useEffect)((function(){S({type:Qe.setAll,value:{materialv:l,material:l,pressure:u,sizev:f,size:f}})}),[l,u,f]);return c.a.createElement(Ye.a,{onClose:n,isOpen:r,unstable_ModalBackdropScroll:!0},c.a.createElement(qe.a,null,c.a.createElement(Je.g,null,"Create a Valve")),c.a.createElement(Je.e,null,c.a.createElement($e.b,null,c.a.createElement(Ke.a,{styleLevel:6},"Valve Number")),c.a.createElement(We.a,{values:y,onChange:function(e){var t=e.values;return S({type:Qe.setValue,value:t})}}),c.a.createElement(_e.a,{options:st,value:j,placeholder:"Valve has been",onChange:function(e){return S({type:Qe.setHasBeen,value:e.value})},overrides:{Root:{style:{marginBottom:"10px",marginTop:"10px"}}}}),c.a.createElement(ht,null,c.a.createElement(_e.a,{options:ut,value:O,placeholder:"Select valve type",onChange:function(e){return S({type:Qe.setType,value:e.value})}}),c.a.createElement(_e.a,{options:ct,value:h,placeholder:"Select pressure",onChange:function(e){return S({type:Qe.setPressure,value:e.value})}})),c.a.createElement($e.b,null,c.a.createElement(Ke.a,{styleLevel:6,overrides:{Block:{style:{marginBottom:"5px"}}}},"Valve")),c.a.createElement(ht,null,c.a.createElement(_e.a,{options:lt,value:g,placeholder:"Select valve size",onChange:function(e){return S({type:Qe.setSizev,value:e.value})}}),c.a.createElement(_e.a,{options:ot,value:E,placeholder:"Select valve material",onChange:function(e){return S({type:Qe.setMaterialv,value:e.value})}})),c.a.createElement($e.b,null,c.a.createElement(Ke.a,{styleLevel:6,overrides:{Block:{style:{marginBottom:"5px"}}}},"Main")),c.a.createElement(ht,null,c.a.createElement(_e.a,{options:lt,value:b,placeholder:"Select main size",onChange:function(e){return S({type:Qe.setSize,value:e.value})}}),c.a.createElement(_e.a,{options:ot,value:x,placeholder:"Select main material",onChange:function(e){return S({type:Qe.setMaterial,value:e.value})}}))),c.a.createElement(Je.f,null,c.a.createElement(Xe.a,{kind:"tertiary",onClick:n},"Close"),c.a.createElement(Xe.a,{autoFocus:!0,onClick:function(){var e=Object(D.a)(Object(D.a)({},tt),{},{id:"rect-code-valve-".concat(w.length),code:"V#".concat(y.join(""))});k(e),S({type:Qe.setValue,value:Array(5).fill("")}),n()},disabled:0===x.length||0===h.length||0===O.length||0===j.length||0===b.length||0===g.length||0===E.length||y.join("").length<5},"Create")))},Ot=n(8),jt=function(e){return e*(Math.PI/180)},St=function(e,t,n){return e+t*n},Ct=function(e,t,n){return e-t*n},kt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3?arguments[3]:void 0,r=jt(e),o=n+Math.cos(r)*(t/2);return a(o,15,Math.sin(r))},wt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3?arguments[3]:void 0,r=jt(e),o=n+Math.sin(r)*(t/2);return a(o,15,Math.cos(r))},Tt=function(e){return Math.round(e/Ne.block)*Ne.block},Rt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Ne.block/2-t;return Math.round(e/n)*n},Mt=function(e){var t=e.shapeProps,n=e.isSelected,a=e.onSelect,r=e.onChange,o=e.onDragStart,i=c.a.useRef(),l=c.a.useRef(),u=c.a.useRef();c.a.useEffect((function(){n&&(l.current.setNode(i.current),l.current.getLayer().batchDraw())}),[n]);var s=function(){!function(e,t,n,a){var r=e.current,o=r.rotation(),i=2*r.radius(),c=kt(o,i,r.x(),n),l=wt(o,i,r.y(),a);t.current.rotation(r.rotation()),t.current.x(c),t.current.y(l)}(i,u,St,Ct)},d=2*t.radius,f=kt(t.rotation,d,t.x,St),m=wt(t.rotation,d,t.y,Ct);return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ot.Group,null,c.a.createElement(Ot.Text,{text:t.code,fontSize:12,x:f,y:m,ref:u}),c.a.createElement(Ot.Circle,Object.assign({radius:8,stroke:"#2d3436"},t,{ref:i,onContextMenu:a,onClick:a,onTap:a,onDragStart:o,draggable:!0,onDragEnd:function(){var e=i.current;e.x(Rt(e.x())),e.y(Rt(e.y())),s()},onDragMove:function(){var e=i.current;e.x(Rt(e.x())),e.y(Rt(e.y())),s()},onTransform:s,onTransformEnd:function(e){var n=i.current;n.scaleX(1),n.scaleY(1),s(),r(Object(D.a)(Object(D.a)({},t),{},{x:n.x(),y:n.y(),rotation:n.rotation(),radius:n.radius()}))}}))),n&&c.a.createElement(Ot.Transformer,{ref:l,keepRatio:!0,resizeEnabled:!1}))},Pt=n(181),Dt=n(179),Lt=function(e){Object(Pt.a)(n,e);var t=Object(Dt.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"componentDidMount",value:function(){this.renderPortal()}},{key:"componentDidUpdate",value:function(e){this.renderPortal()}},{key:"componentWillUnmount",value:function(){u.a.unmountComponentAtNode(this.defaultNode||this.props.node),this.defaultNode&&document.body.removeChild(this.defaultNode),this.defaultNode=null}},{key:"renderPortal",value:function(e){this.props.node||this.defaultNode||(this.defaultNode=document.createElement("div"),document.body.appendChild(this.defaultNode));var t=this.props.children;"function"===typeof t.type&&(t=c.a.cloneElement(t)),u.a.render(t,this.props.node||this.defaultNode)}},{key:"render",value:function(){return null}}]),n}(c.a.Component),It=n(39),Nt=function(e){var t=e.position,n=e.onOptionSelected;return c.a.createElement("div",{style:{position:"absolute",left:t.x+10,top:t.y}},c.a.createElement("div",{onClick:function(){n("delete")}},c.a.createElement(It.g,null)))},At=yt,Bt=c.a.memo((function(e){var t=e.selected,n=void 0===t?"":t,a=e.selectValve,r=void 0===a?function(){}:a,o=c.a.useState({}),i=Object(d.a)(o,2),l=i[0],u=i[1],s=c.a.useState(!1),f=Object(d.a)(s,2),m=f[0],p=f[1],v=c.a.useContext(mt),h=v.deleteValves,g=v.updateValves,b=v.valves,E=function(e){m!==e&&p(e)};c.a.useEffect((function(){n!==l.id&&p(!1)}),[n,l]);return c.a.createElement(c.a.Fragment,null,m&&c.a.createElement(Lt,null,c.a.createElement(Nt,{position:l.position,onOptionSelected:function(e){"delete"===e&&function(){var e=b.slice(),t=e.findIndex((function(e){return e.id===n}));e.splice(t,1),h(e)}(),u({}),E(!1),r("")}})),null===b||void 0===b?void 0:b.map((function(e,t){return c.a.createElement(Mt,{key:e.id,shapeProps:e,isSelected:e.id===n,onDragStart:function(){return E(!1)},onSelect:function(t){return function(e,t){if(r(t),"contextmenu"===e.type){window.addEventListener("contextmenu",(function(e){e.preventDefault()}));var n=e.target.getStage().getPointerPosition();u({position:n,id:t}),E(!0)}}(t,e.id)},onChange:function(e){var n=b.slice();n[t]=e,g(n)}})})))})),zt=Object(vt.a)("div",{display:"grid",gridGap:"10px",gridTemplateColumns:"repeat(2, 1fr)",marginBottom:"10px"}),Ft=function(){};!function(e){e.setValue="value",e.setSizev="sizev",e.setSize="size",e.setMaterial="material",e.setMaterialv="materialv",e.setHasBeen="hasbeen",e.setAll="all"}(bt||(bt={}));var Ht,Ut={value:Array(5).fill(""),sizev:[],size:[],material:[],materialv:[],hasBeen:[]},Gt=function(e,t){switch(t.type){case bt.setValue:return Object(D.a)(Object(D.a)({},e),{},{value:t.value});case bt.setMaterial:return Object(D.a)(Object(D.a)({},e),{},{material:t.value});case bt.setMaterialv:return Object(D.a)(Object(D.a)({},e),{},{materialv:t.value});case bt.setSize:return Object(D.a)(Object(D.a)({},e),{},{size:t.value});case bt.setSizev:return Object(D.a)(Object(D.a)({},e),{},{sizev:t.value});case bt.setHasBeen:return Object(D.a)(Object(D.a)({},e),{},{hasBeen:t.value});case bt.setAll:return Object(D.a)(Object(D.a)({},e),t.value);default:throw new Error}},Vt=function(e){var t=e.shapeProps,n=e.isSelected,a=e.onSelect,r=e.onChange,o=e.onDragStart,i=c.a.useRef(),l=c.a.useRef(),u=c.a.useRef();c.a.useEffect((function(){n&&(l.current.setNode(i.current),l.current.getLayer().batchDraw())}),[n]);var s=function(){!function(e,t,n,a){var r=e.current,o=r.rotation(),i=2*r.radius(),c=kt(o,i,r.x(),n),l=wt(o,i,r.y(),a);t.current.rotation(r.rotation()),t.current.x(c),t.current.y(l)}(i,u,St,Ct)},d=2*t.radius,f=kt(t.rotation,d,t.x,St),m=wt(t.rotation,d,t.y,Ct);return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ot.Group,null,c.a.createElement(Ot.Text,{text:t.code,fontSize:12,x:f,y:m,ref:u}),c.a.createElement(Ot.Circle,Object.assign({radius:8,fill:"#4d73be"},t,{ref:i,onContextMenu:a,onClick:a,onTap:a,onDragStart:o,draggable:!0,onDragEnd:function(){var e=i.current;e.x(Rt(e.x())),e.y(Rt(e.y())),s()},onDragMove:function(){var e=i.current;e.x(Rt(e.x())),e.y(Rt(e.y())),s()},onTransform:s,onTransformEnd:function(e){var n=i.current;n.scaleX(1),n.scaleY(1),s(),r(Object(D.a)(Object(D.a)({},t),{},{x:Rt(n.x()),y:Rt(n.y()),rotation:n.rotation(),radius:n.radius()}))}}))),n&&c.a.createElement(Ot.Transformer,{ref:l,keepRatio:!0,resizeEnabled:!1}))},_t=function(e){var t=e.cancell,n=void 0===t?Ft:t,a=e.isOpen,r=void 0!==a&&a,o=Object(s.c)((function(e){return e.get("pipeForm").toObject()})),c=o.material,l=o.size,u=i.useReducer(Gt,Ut),f=Object(d.a)(u,2),m=f[0],p=m.value,v=m.sizev,h=m.size,g=m.materialv,b=m.material,E=m.hasBeen,x=f[1],y=i.useContext(mt),O=y.addDrips,j=y.drips;i.useEffect((function(){x({type:bt.setAll,value:{materialv:c,material:c,sizev:l,size:l}})}),[c,l]);return i.createElement(Ye.a,{onClose:n,isOpen:r,unstable_ModalBackdropScroll:!0},i.createElement(qe.a,null,i.createElement(Je.g,null,"Create a Drip")),i.createElement(Je.e,null,i.createElement($e.b,null,i.createElement(Ke.a,{styleLevel:6},"Drip Number")),i.createElement(We.a,{values:p,onChange:function(e){var t=e.values;return x({type:bt.setValue,value:t})}}),i.createElement(_e.a,{options:dt,value:E,placeholder:"Drip has been",onChange:function(e){return x({type:bt.setHasBeen,value:e.value})},overrides:{Root:{style:{marginBottom:"10px",marginTop:"10px"}}}}),i.createElement($e.b,null,i.createElement(Ke.a,{styleLevel:6,overrides:{Block:{style:{marginBottom:"5px"}}}},"Main")),i.createElement(zt,null,i.createElement(_e.a,{options:ot,value:b,placeholder:"Select main drip material",onChange:function(e){return x({type:bt.setMaterial,value:e.value})}}),i.createElement(_e.a,{options:lt,value:h,placeholder:"Select main drip size",onChange:function(e){return x({type:bt.setSize,value:e.value})}})),i.createElement($e.b,null,i.createElement(Ke.a,{styleLevel:6,overrides:{Block:{style:{marginBottom:"5px"}}}},"Pot")),i.createElement(zt,null,i.createElement(_e.a,{options:ot,value:g,placeholder:"Select drip pot material",onChange:function(e){return x({type:bt.setMaterialv,value:e.value})}}),i.createElement(_e.a,{options:lt,value:v,placeholder:"Select drip pot size",onChange:function(e){return x({type:bt.setSizev,value:e.value})}}))),i.createElement(Je.f,null,i.createElement(Xe.a,{kind:"tertiary",onClick:n},"Close"),i.createElement(Xe.a,{autoFocus:!0,onClick:function(){var e=Object(D.a)(Object(D.a)({},tt),{},{id:"rect-code-drip-".concat(j.length),code:"D#".concat(p.join(""))});x({type:bt.setValue,value:Array(5).fill("")}),O(e),n()},disabled:0===b.length||0===E.length||0===h.length||0===v.length||0===g.length||p.join("").length<5},"Create")))},Wt=c.a.memo((function(e){var t=e.selected,n=void 0===t?"":t,a=e.selectDrip,r=void 0===a?function(){}:a,o=c.a.useState({}),i=Object(d.a)(o,2),l=i[0],u=i[1],s=c.a.useState(!1),f=Object(d.a)(s,2),m=f[0],p=f[1],v=c.a.useContext(mt),h=v.deleteDrips,g=v.updateDrips,b=v.drips;c.a.useEffect((function(){n!==l.id&&p(!1)}),[n,l]);var E=function(e){m!==e&&p(e)};return c.a.createElement(c.a.Fragment,null,m&&c.a.createElement(Lt,null,c.a.createElement(Nt,{position:l.position,onOptionSelected:function(e){"delete"===e&&function(){var e=b.slice(),t=e.findIndex((function(e){return e.id===n}));e.splice(t,1),h(e)}(),u({}),E(!1),r("")}})),null===b||void 0===b?void 0:b.map((function(e,t){return c.a.createElement(Vt,{key:e.id,shapeProps:e,isSelected:e.id===n,onSelect:function(t){return function(e,t){if(r(t),"contextmenu"===e.type){window.addEventListener("contextmenu",(function(e){e.preventDefault()}));var n=e.target.getStage().getPointerPosition();u({position:n,id:t}),E(!0)}}(t,e.id)},onDragStart:function(){return E(!1)},onChange:function(e){var n=b.slice();n[t]=e,g(n)}})})))})),Yt=function(){},qt=function(e){var t=e.shapeProps,n=e.isSelected,a=e.onSelect,r=e.onChange,o=e.onDragStart,i=c.a.useRef(),l=c.a.useRef();return c.a.useEffect((function(){n&&(l.current.setNode(i.current),l.current.getLayer().batchDraw())}),[n]),c.a.createElement(c.a.Fragment,null,c.a.createElement(Ot.Text,Object.assign({onContextMenu:a,onClick:a,onTap:a,onDragStart:o,ref:i},t,{draggable:!0,onDragEnd:function(e){r(Object(D.a)(Object(D.a)({},t),{},{x:e.target.x(),y:e.target.y()}))},onTransformEnd:function(e){var n=i.current,a=n.scaleX(),o=n.scaleY();n.scaleX(1),n.scaleY(1),r(Object(D.a)(Object(D.a)({},t),{},{x:n.x(),y:n.y(),fontSize:Math.max(n.height()*o),width:Math.max(5,n.width()*a),height:Math.max(n.height()*o)}))}})),n&&c.a.createElement(Ot.Transformer,{ref:l,keepRatio:!0,enabledAnchors:["top-left","top-right","bottom-left","bottom-right"]}))},Jt=function(e){var t=e.cancell,n=void 0===t?Yt:t,a=e.isOpen,r=void 0!==a&&a,o=i.useState(""),c=Object(d.a)(o,2),l=c[0],u=c[1],s=i.useContext(mt),f=s.addText,m=s.texts;return i.createElement(Ye.a,{onClose:n,isOpen:r,unstable_ModalBackdropScroll:!0},i.createElement(qe.a,null,i.createElement(Je.g,null,"Create a Label")),i.createElement(Je.e,null,i.createElement(je.a,{value:l,onChange:function(e){return u(e.target.value)},placeholder:"Label text"})),i.createElement(Je.f,null,i.createElement(Xe.a,{kind:"tertiary",onClick:n},"Close"),i.createElement(Xe.a,{autoFocus:!0,onClick:function(){var e=Object(D.a)(Object(D.a)({},et),{},{id:"rect-code-text-".concat(m.length),text:l});f(e),u(""),n()},disabled:""===l},"Create")))},Xt=c.a.memo((function(e){var t=e.selected,n=void 0===t?"":t,a=e.selectText,r=void 0===a?function(){}:a,o=c.a.useState({}),i=Object(d.a)(o,2),l=i[0],u=i[1],s=c.a.useState(!1),f=Object(d.a)(s,2),m=f[0],p=f[1],v=c.a.useContext(mt),h=v.texts,g=v.updateTexts,b=v.deleteTexts;c.a.useEffect((function(){n!==l.id&&p(!1)}),[n,l]);var E=function(e){m!==e&&p(e)};return c.a.createElement(c.a.Fragment,null,m&&c.a.createElement(Lt,null,c.a.createElement(Nt,{position:l.position,onOptionSelected:function(e){"delete"===e&&function(){var e=h.slice(),t=e.findIndex((function(e){return e.id===n}));e.splice(t,1),b(e)}(),u({}),E(!1),r("")}})),null===h||void 0===h?void 0:h.map((function(e,t){return c.a.createElement(qt,{key:e.id,shapeProps:e,onDragStart:function(){return E(!1)},isSelected:e.id===n,onSelect:function(t){return function(e,t){if(r(t),"contextmenu"===e.type){window.addEventListener("contextmenu",(function(e){e.preventDefault()}));var n=e.target.getStage().getPointerPosition();u({position:n,id:t}),E(!0)}}(t,e.id)},onChange:function(e){var n=h.slice();n[t]=e,g(n)}})})))})),$t=[{label:'2"x1"',id:'2"x1"'},{label:'2"x1-1/4"',id:'2"x1-1/4"'},{label:'4"x2"',id:'4"x2"'},{label:'6"x4"',id:'6"x4"'},{label:'8"x6"',id:'8"x6"'},{label:'12"x8"',id:'12"x8"'},{label:'16"x12"',id:'16"x12"'},{label:'20"x12"',id:'20"x12"'}],Kt=function(){},Qt=function(e){var t=e.shapeProps,n=e.isSelected,a=e.onSelect,r=e.onChange,o=e.onDragStart,i=c.a.useRef(),l=c.a.useRef(),u=c.a.useRef();c.a.useEffect((function(){n&&(l.current.setNode(i.current),l.current.getLayer().batchDraw())}),[n]);var s=function(){!function(e,t,n,a){var r=e.current,o=r.rotation(),i=2*r.width(),c=kt(o,i,r.x(),n),l=wt(o,i,r.y(),a);t.current.rotation(r.rotation()),t.current.x(c),t.current.y(l)}(i,u,Ct,St)},d=kt(t.rotation,2*t.width,t.x,Ct),f=wt(t.rotation,2*t.width,t.y,St);return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ot.Group,null,c.a.createElement(Ot.Text,{text:t.value,fontSize:12,x:d,y:f,ref:u}),c.a.createElement(Ot.Line,Object.assign({ref:i,onContextMenu:a,onClick:a,onTap:a,onDragStart:o,draggable:!0,points:[0,30,15,15,30,30],closed:!0,fill:"#2d3436"},t,{onDragEnd:function(){var e=i.current;e.x(Rt(e.x())),e.y(Rt(e.y())),s()},onDragMove:function(){var e=i.current;e.x(Rt(e.x())),e.y(Rt(e.y())),s()},onTransform:s,onTransformEnd:function(e){var n=i.current;n.scaleX(1),n.scaleY(1),s(),r(Object(D.a)(Object(D.a)({},t),{},{x:n.x(),y:n.y(),rotation:n.rotation()}))}}))),n&&c.a.createElement(Ot.Transformer,{ref:l,keepRatio:!0,resizeEnabled:!1}))},Zt=function(e){var t=e.cancell,n=void 0===t?Kt:t,a=e.isOpen,r=void 0!==a&&a,o=i.useState([]),c=Object(d.a)(o,2),l=c[0],u=c[1],s=i.useContext(mt),f=s.addReducers,m=s.reducers;return i.createElement(Ye.a,{onClose:n,isOpen:r,unstable_ModalBackdropScroll:!0},i.createElement(qe.a,null,i.createElement(Je.g,null,"Create a Reducer")),i.createElement(Je.e,null,i.createElement(_e.a,{options:$t,value:l,placeholder:"Select size",onChange:function(e){return u(e.value)}})),i.createElement(Je.f,null,i.createElement(Xe.a,{kind:"tertiary",onClick:n},"Close"),i.createElement(Xe.a,{autoFocus:!0,onClick:function(){var e=Object(D.a)(Object(D.a)({},nt),{},{id:"rect-code-reducer-".concat(m.length),value:"".concat(l[0].label)});f(e),u([]),n()},disabled:0===l.length},"Create")))},en=c.a.memo((function(e){var t=e.selected,n=void 0===t?"":t,a=e.selectReducer,r=void 0===a?function(){}:a,o=c.a.useState({}),i=Object(d.a)(o,2),l=i[0],u=i[1],s=c.a.useState(!1),f=Object(d.a)(s,2),m=f[0],p=f[1],v=c.a.useContext(mt),h=v.deleteReducers,g=v.updateReducers,b=v.reducers;c.a.useEffect((function(){n!==l.id&&p(!1)}),[n,l]);var E=function(e){m!==e&&p(e)};return c.a.createElement(c.a.Fragment,null,m&&c.a.createElement(Lt,null,c.a.createElement(Nt,{position:l.position,onOptionSelected:function(e){"delete"===e&&function(){var e=b.slice(),t=e.findIndex((function(e){return e.id===n}));e.splice(t,1),h(e)}(),u({}),E(!1),r("")}})),null===b||void 0===b?void 0:b.map((function(e,t){return c.a.createElement(Qt,{key:e.id,shapeProps:e,isSelected:e.id===n,onSelect:function(t){return function(e,t){if(r(t),"contextmenu"===e.type){window.addEventListener("contextmenu",(function(e){e.preventDefault()}));var n=e.target.getStage().getPointerPosition();u({position:n,id:t}),E(!0)}}(t,e.id)},onDragStart:function(){return E(!1)},onChange:function(e){var n=b.slice();n[t]=e,g(n)}})})))})),tn=n(321),nn=Object(vt.a)("div",{display:"grid",gridGap:"10px",gridTemplateColumns:"repeat(2, 1fr)",marginBottom:"10px"}),an=function(){},rn=function(e){var t=e.shapeProps,n=e.isSelected,a=e.onSelect,r=e.onChange,o=e.onDragStart,i=c.a.useRef(),l=c.a.useRef(),u=c.a.useRef(),s=c.a.useRef();c.a.useEffect((function(){n&&(s.current.setNode(i.current),s.current.getLayer().batchDraw())}),[n]);var d=function(e,t,n,a){var r=e.current,o=r.rotation(),i=r.width(),c=kt(o,i,r.x(),n),l=wt(o,i,r.y(),a);t.current.rotation(r.rotation()),t.current.x(c),t.current.y(l)},f=function(){d(i,l,St,Ct),d(i,u,Ct,St)},m=kt(t.rotation,t.width,t.x,St),p=wt(t.rotation,t.width,t.y,Ct),v=kt(t.rotation,t.width,t.x,Ct),h=wt(t.rotation,t.width,t.y,St);return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ot.Group,null,c.a.createElement(Ot.Text,{text:"Length: ".concat(t.value),fontSize:12,x:m,y:p,ref:l}),c.a.createElement(Ot.Rect,Object.assign({onContextMenu:a,onClick:a,onTap:a,onDragStart:o,draggable:!0,ref:i,fill:"#2d3436"},t,{width:Tt(parseInt(t.width,10)),onDragEnd:function(){var e=i.current;e.x(Rt(e.x())),e.y(Rt(e.y(),t.height/2)),f()},onDragMove:function(){var e=i.current;e.x(Rt(e.x())),e.y(Rt(e.y(),t.height/2)),f()},onTransform:f,onTransformEnd:function(e){var n=i.current,a=n.scaleX(),o=n.scaleY();n.scaleX(1),n.scaleY(1),f(),r(Object(D.a)(Object(D.a)({},t),{},{x:n.x(),y:n.y(),rotation:n.rotation(),width:Math.max(5,n.width()*a),height:Math.max(n.height()*o)}))}})),c.a.createElement(Ot.Text,{text:"Cover: ".concat(t.data.cover,'"'),fontSize:12,x:v,y:h,ref:u})),n&&c.a.createElement(Ot.Transformer,{ref:s,rotateAnchorOffset:100,rotationSnaps:[45,90,135,180,225,270,315,360],enabledAnchors:["top-left","top-right","bottom-left","bottom-right"],boundBoxFunc:function(e,t){return t.width<5||t.height<5?e:(t.width=Tt(t.width),t.height=e.height,t)}}))},on=function(e){e.accept;var t=e.cancell,n=void 0===t?an:t,a=e.isOpen,r=void 0!==a&&a,o=Object(s.b)(),c=Object(s.c)((function(e){return e.get("pipeForm").toObject()})),l=c.material,u=c.pressure,d=c.size,f=c.method,m=c.length,p=c.year,v=c.cover,h=i.useContext(mt),g=h.addReact,b=h.rectangles,E=function(e){return{Root:{props:{"data-cy":e}}}};return i.createElement(Ye.a,{onClose:n,isOpen:r,unstable_ModalBackdropScroll:!0},i.createElement(qe.a,null,i.createElement(Je.g,null,"Create a Pipe")),i.createElement(Je.e,null,i.createElement(nn,null,i.createElement(_e.a,{overrides:E("rmm-select-material"),options:ot,value:l,placeholder:"Select material",onChange:function(e){return o($(e.value))}}),i.createElement(_e.a,{overrides:E("rmm-select-method"),options:it,value:f,placeholder:"Select method",onChange:function(e){return o(K(e.value))}})),i.createElement(nn,null,i.createElement(_e.a,{overrides:E("rmm-select-size"),options:lt,value:d,placeholder:"Select size",onChange:function(e){return o(Q(e.value))}}),i.createElement(_e.a,{overrides:E("rmm-select-pressure"),options:ct,value:u,placeholder:"Select pressure",onChange:function(e){return o(Z(e.value))}})),i.createElement(nn,null,i.createElement(je.a,{required:!0,value:p,onChange:function(e){return o(ee(e.target.value))},overrides:E("rmm-input-year"),placeholder:"Year"}),i.createElement(je.a,{required:!0,value:m,overrides:E("rmm-input-length"),onChange:function(e){return o(te(e.target.value))},placeholder:"Length"})),i.createElement($e.b,null,i.createElement(Ke.a,{styleLevel:6,overrides:{Block:{style:{marginBottom:"0px"}}}},"Cover")),i.createElement(tn.a,{value:v,min:10,max:100,onChange:function(e){var t=e.value;return o(ne(t))},overrides:{InnerThumb:function(e){var t=e.$value,n=e.$thumbIndex;return i.createElement(i.Fragment,null,t[n]+'"')},ThumbValue:function(){return null},Thumb:{style:function(){return{height:"36px",width:"36px",display:"flex",alignItems:"center",justifyContent:"center",borderTopLeftRadius:"36px",borderTopRightRadius:"36px",borderBottomRightRadius:"36px",borderBottomLeftRadius:"36px",borderLeftStyle:"solid",borderRightStyle:"solid",borderTopStyle:"solid",borderBottomStyle:"solid",borderLeftWidth:"3px",borderTopWidth:"3px",borderRightWidth:"3px",borderBottomWidth:"3px",borderLeftColor:"#ccc",borderTopColor:"#ccc",borderRightColor:"#ccc",borderBottomColor:"#ccc",backgroundColor:"#fff"}},props:{"data-cy":"rmm-slider-cover"}}}})),i.createElement(Je.f,null,i.createElement(Xe.a,{kind:"tertiary",onClick:n},"Close"),i.createElement(Xe.a,{autoFocus:!0,onClick:function(){var e=Object(D.a)(Object(D.a)({},Ze),{},{id:"rect-code-pipe-".concat(b.length),value:"".concat(m,"'"),width:parseInt(m,10),data:{material:l[0].label,pressure:u[0].label,size:d[0].label,method:f[0].label,length:m,year:p,cover:v[0]}});g(e),n()},disabled:0===l.length||0===u.length||0===d.length||0===f.length||""===p||0===v.length||""===m},"Create")))},cn=c.a.memo((function(e){var t=e.selected,n=void 0===t?"":t,a=e.selectRect,r=void 0===a?function(){}:a,o=c.a.useState({}),i=Object(d.a)(o,2),l=i[0],u=i[1],s=c.a.useState(!1),f=Object(d.a)(s,2),m=f[0],p=f[1],v=c.a.useContext(mt),h=v.deleteReact,g=v.updateReact,b=v.rectangles;c.a.useEffect((function(){n!==l.id&&p(!1)}),[n,l]);var E=function(e){m!==e&&p(e)};return c.a.createElement(c.a.Fragment,null,m&&c.a.createElement(Lt,null,c.a.createElement(Nt,{position:l.position,onOptionSelected:function(e){"delete"===e&&function(){var e=b.slice(),t=e.findIndex((function(e){return e.id===n}));e.splice(t,1),h(e)}(),u({}),E(!1),r("")}})),null===b||void 0===b?void 0:b.map((function(e,t){return c.a.createElement(rn,{key:e.id,shapeProps:e,onDragStart:function(){return E(!1)},isSelected:e.id===n,onSelect:function(t){return function(e,t){if(r(t),"contextmenu"===e.type){window.addEventListener("contextmenu",(function(e){e.preventDefault()}));var n=e.target.getStage().getPointerPosition();u({position:n,id:t}),E(!0)}}(t,e.id)},onChange:function(e){var n=b.slice();n[t]=e,g(n)}})})))})),ln=n(301),un=n(302),sn=n(303),dn=function(){},fn=function(e){var t=e.shapeProps,n=e.isSelected,a=e.onSelect,r=e.onChange,o=e.onDragStart,i=c.a.useRef(),l=c.a.useRef();return c.a.useEffect((function(){n&&(l.current.setNode(i.current),l.current.getLayer().batchDraw())}),[n]),c.a.createElement(c.a.Fragment,null,c.a.createElement(Ot.Group,{onContextMenu:a,onClick:a,onTap:a,onDragStart:o,ref:i,draggable:!0},c.a.createElement(Ot.Line,Object.assign({points:[0,60,0,100],stroke:"#2d3436"},t,{onTransformEnd:function(e){var n=i.current,a=n.scaleY();n.scaleX(1),n.scaleY(1),r(Object(D.a)(Object(D.a)({},t),{},{x:n.x(),y:n.y(),height:Math.max(n.height()*a)}))}})),c.a.createElement(Ot.Text,{text:t.text,fontSize:12,x:t.x-6,y:t.y+110})),n&&c.a.createElement(Ot.Transformer,{ref:l,keepRatio:!0,resizeEnabled:!1}))},mn=function(e){var t=e.shapeProps,n=e.isSelected,a=e.onSelect,r=e.onChange,o=e.onDragStart,i=c.a.useRef(),l=c.a.useRef();c.a.useEffect((function(){n&&(l.current.setNode(i.current),l.current.getLayer().batchDraw())}),[n]);var u=function(){var e=i.current,n=e.scaleY();e.scaleX(1),e.scaleY(1),r(Object(D.a)(Object(D.a)({},t),{},{x:e.x(),y:e.y(),height:Math.max(e.height()*n)}))};return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ot.Group,{ref:i,onContextMenu:a,onClick:a,onTap:a,onDragStart:o,draggable:!0},c.a.createElement(Ot.Line,Object.assign({points:[10,50,10,80],stroke:"#2d3436"},t,{onTransformEnd:u})),c.a.createElement(Ot.Line,Object.assign({points:[30,50,30,80],stroke:"#2d3436"},t,{onTransformEnd:u})),c.a.createElement(Ot.Line,Object.assign({points:[5,55,35,55],stroke:"#2d3436"},t,{onTransformEnd:u})),c.a.createElement(Ot.Line,Object.assign({points:[5,75,35,75],stroke:"#2d3436"},t,{onTransformEnd:u}))),n&&c.a.createElement(Ot.Transformer,{ref:l,keepRatio:!0,enabledAnchors:["top-left","top-right","bottom-left","bottom-right"]}))},pn=function(e){var t=e.cancell,n=void 0===t?dn:t,a=e.isOpen,r=void 0!==a&&a,o=i.useState(Ae.ij),c=Object(d.a)(o,2),l=c[0],u=c[1],s=i.useContext(mt),f=s.addCoupling,m=s.couplings;return i.createElement(Ye.a,{onClose:n,isOpen:r,unstable_ModalBackdropScroll:!0},i.createElement(qe.a,null,i.createElement(Je.g,null,"Create a Join/Fitting")),i.createElement(Je.e,null,i.createElement(ln.a,{value:l,onChange:function(e){return u(e.target.value)},name:"coupling",align:un.a.horizontal},i.createElement(sn.a,{value:Ae.tf},"TF"),i.createElement(sn.a,{value:Ae.ij},"IJ"),i.createElement(sn.a,{value:Ae.uni},"Coupling"),i.createElement(sn.a,{value:Ae.simple},"Simple"))),i.createElement(Je.f,null,i.createElement(Xe.a,{kind:"tertiary",onClick:n},"Close"),i.createElement(Xe.a,{autoFocus:!0,onClick:function(){var e=Object(D.a)(Object(D.a)({},at),{},{id:"rect-code-coypling-".concat(m.length),text:l,type:l});f(e),u(""),n()},disabled:""===l},"Create")))},vn=c.a.memo((function(e){var t=e.selected,n=void 0===t?"":t,a=e.selectCoupling,r=void 0===a?function(){}:a,o=c.a.useState({}),i=Object(d.a)(o,2),l=i[0],u=i[1],s=c.a.useState(!1),f=Object(d.a)(s,2),m=f[0],p=f[1],v=c.a.useContext(mt),h=v.couplings,g=v.updateCouplings,b=v.deleteCouplings;c.a.useEffect((function(){n!==l.id&&p(!1)}),[n,l]);var E=function(e){m!==e&&p(e)},x=function(e,t){if(r(t),"contextmenu"===e.type){window.addEventListener("contextmenu",(function(e){e.preventDefault()}));var n=e.target.getStage().getPointerPosition();u({position:n,id:t}),E(!0)}};return c.a.createElement(c.a.Fragment,null,m&&c.a.createElement(Lt,null,c.a.createElement(Nt,{position:l.position,onOptionSelected:function(e){"delete"===e&&function(){var e=h.slice(),t=e.findIndex((function(e){return e.id===n}));e.splice(t,1),b(e)}(),u({}),E(!1),r("")}})),null===h||void 0===h?void 0:h.map((function(e,t){return Ae.uni===e.type?c.a.createElement(mn,{key:e.id,shapeProps:e,isSelected:e.id===n,onSelect:function(t){return x(t,e.id)},onDragStart:function(){return E(!1)},onChange:function(e){var n=h.slice();n[t]=e,g(n)}}):c.a.createElement(fn,{key:e.id,shapeProps:e,isSelected:e.id===n,onSelect:function(t){return x(t,e.id)},onDragStart:function(){return p(!1)},onChange:function(e){var n=h.slice();n[t]=e,g(n)}})})))})),hn=n(316),gn=n(49),bn=n(320),En=n(35),xn=Object(vt.a)("div",{display:"grid",gridGap:"10px",gridTemplateColumns:"repeat(2, 1fr)",marginBottom:"10px"}),yn=Object(vt.a)("div",{display:"flex",flexDirection:"column",marginTop:"20px",borderTop:"0.5px solid #757575"}),On=(Object(vt.a)("div",{marginTop:"10px",display:"grid",gridGap:"10px",gridTemplateColumns:"repeat(3, 1fr)"}),Object(vt.a)("div",{display:"flex",flexDirection:"column"})),jn=n(48);!function(e){e.setPressure="pressure",e.setNa2Air="na2Ari",e.setDuration="duration",e.setMaop="maop",e.setMarkerB="markerB",e.setMarkerB2="markerB2",e.setName="name",e.setNamew="namew",e.setEmp="emp",e.setEmpw="empw",e.setDate="date"}(Ht||(Ht={}));var Sn={pressure:"",duration:"",na2air:"",maop:!1,mb:!1,mb2:!1,name:"",namew:"",emp:"",empw:"",date:""},Cn=function(e,t){switch(t.type){case Ht.setMaop:return Object(D.a)(Object(D.a)({},e),{},{maop:t.value});case Ht.setNa2Air:return Object(D.a)(Object(D.a)({},e),{},{na2air:t.value});case Ht.setPressure:return Object(D.a)(Object(D.a)({},e),{},{pressure:t.value});case Ht.setDuration:return Object(D.a)(Object(D.a)({},e),{},{duration:t.value});case Ht.setMarkerB:return Object(D.a)(Object(D.a)({},e),{},{mb:t.value});case Ht.setMarkerB2:return Object(D.a)(Object(D.a)({},e),{},{mb2:t.value});case Ht.setName:return Object(D.a)(Object(D.a)({},e),{},{mb:t.value});case Ht.setNamew:return Object(D.a)(Object(D.a)({},e),{},{mb2:t.value});case Ht.setEmp:return Object(D.a)(Object(D.a)({},e),{},{mb:t.value});case Ht.setEmpw:return Object(D.a)(Object(D.a)({},e),{},{mb2:t.value});case Ht.setDate:return Object(D.a)(Object(D.a)({},e),{},{date:t.value});default:throw new Error}},kn=c.a.memo((function(e){var t=e.isOpen,n=void 0!==t&&t,a=e.cancell,r=void 0===a?function(){}:a,o=Object(i.useReducer)(Cn,Sn),l=Object(d.a)(o,2),u=l[0],s=u.pressure,f=u.duration,m=u.na2air,p=u.maop,v=u.mb,h=u.mb2,g=u.name,b=u.namew,E=u.emp,x=u.empw,y=u.date,O=l[1],j=c.a.useContext(mt).rectangles,S=function(){var e=["SIZE"],t=["YEAR"],n=["COVER"],a=["LENGTH"],r=["MATERIAL"],o=["METHOD"],i=["PRESSURE"],c=function(e){var t=new Map;return j.forEach((function(n){var a=e(n,"size"),r=e(n,"material"),o=e(n,"pressure"),i=e(n,"method"),c=e(n,"year"),l="".concat(a,"/").concat(r,"/").concat(o,"/").concat(i,"/").concat(c),u=t.get(l);u?u.push(n):t.set(l,[n])})),t}((function(e,t){return e.data[t]})),l=[];c.forEach((function(e){var t={};e.forEach((function(e){var n,a,r=e.data;t=Object(D.a)(Object(D.a)({},r),{},{length:t.length?(n=t.length,a=r.length,parseInt(n,10)+parseInt(a,10)):parseInt(r.length)})})),l.push(t)}));var u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.map((function(e,t){return"SEGMENT ".concat(t+1)})),n=[""].concat(Object(ft.a)(t));return n}(l);return l.forEach((function(c){Object.keys(c).forEach((function(l){switch(l){case"size":e.push(c[l]);break;case"year":t.push(c[l]);break;case"cover":n.push(c[l]);break;case"length":a.push("".concat(c[l],"'"));break;case"material":r.push(c[l]);break;case"method":o.push(c[l]);break;case"pressure":i.push(c[l])}}))})),{data:[e,t,n,a,r,o,i],header:u}}(),C=S.data,k=S.header;return c.a.createElement(Ye.a,{onClose:r,closeable:!0,isOpen:n,animate:!0,autoFocus:!0,size:gn.c.full,role:gn.b.dialog,unstable_ModalBackdropScroll:!0,overrides:{Root:{style:{zIndex:99}}}},c.a.createElement(Je.g,null,"MAIN INSTALLATION"),c.a.createElement(Je.e,null,c.a.createElement(hn.a,{columns:k,data:C}),c.a.createElement(yn,null,c.a.createElement($e.b,null,c.a.createElement(Ke.a,{styleLevel:6,overrides:{Block:{style:{marginBottom:"20px"}}}},"MAIN PRESSURE TEST")),c.a.createElement(xn,null,c.a.createElement(bn.a,{checked:p,onChange:function(){return O({type:Ht.setMaop,value:!p})},labelPlacement:En.a.right},"PRESSURE INCREASED TO NEW MAOP"),c.a.createElement(je.a,{required:!0,placeholder:"DATE",value:y,onChange:function(e){return O({type:Ht.setDate,value:e.target.value})}})),c.a.createElement(xn,null,c.a.createElement(ln.a,{value:m,onChange:function(e){return O({type:Ht.setNa2Air,value:e.target.value})},name:"N2AIR",align:un.a.horizontal},c.a.createElement(sn.a,{value:"N2"},"N2"),c.a.createElement(sn.a,{value:"AIR"},"AIR"))),c.a.createElement(xn,null,c.a.createElement($e.b,null,c.a.createElement(Ke.a,{styleLevel:6,overrides:{Block:{style:{marginBottom:"10px"}}}},"PERFORMED BY:")),c.a.createElement($e.b,null,c.a.createElement(Ke.a,{styleLevel:6,overrides:{Block:{style:{marginBottom:"10px"}}}},"WITNESSD BY:"))),c.a.createElement(xn,null,c.a.createElement(je.a,{required:!0,placeholder:"Name",value:g,onChange:function(e){return O({type:Ht.setName,value:e.target.value})}}),c.a.createElement(je.a,{required:!0,placeholder:"Name",value:b,onChange:function(e){return O({type:Ht.setNamew,value:e.target.value})}})),c.a.createElement(xn,null,c.a.createElement(je.a,{required:!0,placeholder:"EMP/ITS #",value:E,onChange:function(e){return O({type:Ht.setEmp,value:e.target.value})}}),c.a.createElement(je.a,{required:!0,placeholder:"EMP/ITS #",value:x,onChange:function(e){return O({type:Ht.setEmpw,value:e.target.value})}})),c.a.createElement(xn,null,c.a.createElement($e.b,null,c.a.createElement(Ke.a,{styleLevel:6,overrides:{Block:{style:{marginBottom:"0px"}}}},"TEST PRESSURE")),c.a.createElement($e.b,null,c.a.createElement(Ke.a,{styleLevel:6,overrides:{Block:{style:{marginBottom:"0px"}}}},"DURATION"))),c.a.createElement(xn,null,c.a.createElement(On,null,c.a.createElement(ln.a,{value:s,onChange:function(e){return O({type:Ht.setPressure,value:e.target.value})},name:"PRESSURE",align:un.a.horizontal},c.a.createElement(sn.a,{value:"(LP/PMP)"},"90 PSIG (LP/IP/PMP)"),c.a.createElement(sn.a,{value:"(HP)"},"150 PSIG (HP)")),c.a.createElement(jn.d,null,c.a.createElement("strong",null,"CURED-IN-PLACE (CIP) LINER")),c.a.createElement(ln.a,{value:s,onChange:function(e){return O({type:Ht.setPressure,value:e.target.value})},name:"PRESSURE2",align:un.a.horizontal},c.a.createElement(sn.a,{value:"(LP)"},"10 PSIG (LP)"),c.a.createElement(sn.a,{value:"(PMP)"},"90 PSIG (IP/PMP)"),c.a.createElement(sn.a,{value:"150P8K3(HP)"},"150 PSIG (HP)"))),c.a.createElement(On,null,c.a.createElement(ln.a,{value:f,onChange:function(e){return O({type:Ht.setDuration,value:e.target.value})},name:"DURATION",align:un.a.horizontal},c.a.createElement(sn.a,{value:"1H"},"1 HOUR ","(< 1,000')"),c.a.createElement(sn.a,{value:"2H>"},"2 HOURS ","(> 1,000')")),c.a.createElement(jn.d,null,c.a.createElement("strong",null,"CURED-IN-PLACE (CIP) LINER")),c.a.createElement(ln.a,{value:f,onChange:function(e){return O({type:Ht.setDuration,value:e.target.value})},name:"DURATION2",align:un.a.horizontal},c.a.createElement(sn.a,{value:"2H"},"2 HOURS")))),c.a.createElement(yn,null,c.a.createElement($e.b,null,c.a.createElement(Ke.a,{styleLevel:6,overrides:{Block:{style:{marginBottom:"10px"}}}},"MARKER BALLS LOCATIONS")),c.a.createElement(xn,null,c.a.createElement(bn.a,{error:!v,checked:v,onChange:function(){return O({type:Ht.setMarkerB,value:!v})},labelPlacement:En.a.right},"MARKER BALLS WERE INSTALLED EVERY 20'"),c.a.createElement(bn.a,{error:!h,checked:h,onChange:function(){return O({type:Ht.setMarkerB2,value:!h})},labelPlacement:En.a.right},"MARKER BALLS WERE INSTALLED AT EVERY MAIN VALVE, REDUCER, COUPLING, CAPS AND TEES"))))))}));var wn=window.innerHeight,Tn=window.innerWidth,Rn=function(e){var t=e.selectShape,n=e.width,a=void 0===n?Tn:n,r=e.height,o=void 0===r?wn:r,l=e.children,u=e.grid,s=Object(i.useRef)(),f=Object(i.useRef)(),m=c.a.useState([]),p=Object(d.a)(m,2),v=p[0],h=p[1],g=function(e){e.target===e.target.getStage()&&t("")};return c.a.createElement(mt.Consumer,null,(function(e){return c.a.createElement(Ot.Stage,{ref:s,width:a,height:o-40,onMouseDown:g,onTouchStart:g},c.a.createElement(mt.Provider,{value:e},u,c.a.createElement(Ot.Layer,{ref:f,id:"later-print-report",onDragMove:function(e){f.current.find(".guid-line").destroy();var t=function(e,t,n){var a=[],r=[];e.vertical.forEach((function(e){t.vertical.forEach((function(t){var r=Math.abs(e-t.guide);r<n&&a.push({lineGuide:e,diff:r,snap:t.snap,offset:t.offset})}))})),e.horizontal.forEach((function(e){t.horizontal.forEach((function(t){var a=Math.abs(e-t.guide);a<n&&r.push({lineGuide:e,diff:a,snap:t.snap,offset:t.offset})}))}));var o=[],i=a.sort((function(e,t){return e.diff-t.diff}))[0],c=r.sort((function(e,t){return e.diff-t.diff}))[0];return i&&o.push({lineGuide:i.lineGuide,offset:i.offset,orientation:"V",snap:i.snap}),c&&o.push({lineGuide:c.lineGuide,offset:c.offset,orientation:"H",snap:c.snap}),o}(function(e){var t=[0,a/2,a],n=[0,o/2,o];return s.current.find(".guideLine-element").forEach((function(a){if(a!==e){var r=a.getClientRect();t.push([r.x,r.x+r.width,r.x+r.width/2]),n.push([r.y,r.y+r.height,r.y+r.height/2])}})),{vertical:t.flat(),horizontal:n.flat()}}(e.target),function(e){var t=e.getClientRect();return{vertical:[{guide:Math.round(t.x),offset:Math.round(e.x()-t.x),snap:"start"},{guide:Math.round(t.x+t.width/2),offset:Math.round(e.x()-t.x-t.width/2),snap:"center"},{guide:Math.round(t.x+t.width),offset:Math.round(e.x()-t.x-t.width),snap:"end"}],horizontal:[{guide:Math.round(t.y),offset:Math.round(e.y()-t.y),snap:"start"},{guide:Math.round(t.y+t.height/2),offset:Math.round(e.y()-t.y-t.height/2),snap:"center"},{guide:Math.round(t.y+t.height),offset:Math.round(e.y()-t.y-t.height),snap:"end"}]}}(e.target),5);t.length&&(!function(e){e.forEach((function(e){if("H"===e.orientation){var t=c.a.createElement(Ot.Line,{key:v.length,points:[-6e3,e.lineGuide,6e3,e.lineGuide],stroke:"rgb(0, 161, 255)",strokeWidth:1,name:"guid-line",dash:[4,6]});h([].concat(Object(ft.a)(v),[t])),f.current.clearBeforeDraw()}else if("V"===e.orientation){var n=c.a.createElement(Ot.Line,{key:v.length,points:[e.lineGuide,-6e3,e.lineGuide,6e3],stroke:"rgb(0, 161, 255)",strokeWidth:1,name:"guid-line",dash:[4,6]});h([].concat(Object(ft.a)(v),[n])),f.current.clearBeforeDraw()}}))}(t),t.forEach((function(t){switch(t.snap){case"start":case"center":case"end":switch(t.orientation){case"V":e.target.x(t.lineGuide+t.offset);break;case"H":e.target.y(t.lineGuide+t.offset)}}})))},onDragEnd:function(){h([]),f.current.clearBeforeDraw()}},v,l)))}))},Mn=Ne.block,Pn=window.innerHeight,Dn=window.innerWidth,Ln=c.a.memo((function(e){var t=e.width,n=void 0===t?Dn:t,a=e.height,r=(void 0===a?Pn:a)-40;return c.a.createElement(Ot.Layer,null,function(){for(var e=[],t=0;t<n/Mn;t++)e.push(c.a.createElement(Ot.Line,{key:"".concat(t,"-row"),points:[Math.round(t*Mn)+.5,0,Math.round(t*Mn)+.5,r],stroke:"#ddd",strokeWidth:1}));return e}(),function(){for(var e=[],t=0;t<r/Mn;t++)e.push(c.a.createElement(Ot.Line,{key:"".concat(t,"-column"),points:[0,Math.round(t*Mn),n,Math.round(t*Mn)],stroke:"#ddd",strokeWidth:.5}));return e}())})),In=n(174),Nn=n(16),An=n(313),Bn=n(182);function zn(){var e=Object(le.a)(["\n    margin-top:3px;\n    color:",";\n"]);return zn=function(){return e},e}function Fn(){var e=Object(le.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    height: 70px;\n    width:80px;\n    padding:5px;\n    :hover{\n        background-color:#0793D0\n    }\n"]);return Fn=function(){return e},e}var Hn=ue.a.div(Fn()),Un=ue.a.label(zn(),(function(e){return e.theme.colors.white})),Gn={BsDash:function(e){return c.a.createElement(It.e,e)},BsSquare:function(e){return c.a.createElement(It.h,e)},BsCircle:function(e){return c.a.createElement(It.b,e)},BsCircleFill:function(e){return c.a.createElement(It.c,e)},BsCaretRightFill:function(e){return c.a.createElement(It.a,e)},BsCrop:function(e){return c.a.createElement(It.d,e)},BsTextareaT:function(e){return c.a.createElement(It.i,e)}},Vn=function(e){var t=Object(vt.b)(),n=Object(d.a)(t,2),a=(n[0],n[1]),r=e.item,o=r.label,i=r.icon,l=r.key,u=e.onClick,s=Object(Bn.a)(e,["item","onClick"]),f=Gn[i];return c.a.createElement(Hn,Object.assign({},s,{theme:a,onClick:function(){return u(l)},"data-cy":"option-side-bar"}),c.a.createElement(f,{color:a.colors.white}),c.a.createElement(Un,{theme:a},o))},_n=function(){},Wn=function(e){var t=e.options,n=void 0===t?[]:t,a=e.onClick,r=void 0===a?_n:a,o=e.height,i=(void 0===o?window.innerHeight:o)/2-40-240;return c.a.createElement(An.a,{items:n,overrides:{List:{style:function(e){e.$theme;return{outline:"none",backgroundColor:"#0581C1",height:"480px",maxHeight:"480px",position:"absolute",zIndex:1,top:"".concat(i,"px")}}},Option:{component:Vn,props:{onClick:r}}},renderAll:!0})},Yn=n(315);function qn(){var e=window;return{width:e.innerWidth,height:e.innerHeight}}var Jn=function(){var e=Object(i.useState)(qn()),t=Object(d.a)(e,2),n=t[0],a=t[1];return Object(i.useEffect)((function(){function e(){a(qn())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),n},Xn=n(171),$n=n.n(Xn),Kn=n(172),Qn=n.n(Kn),Zn=function(){var e=Object(xe.a)(Ee.a.mark((function e(t){var n,a,r;return Ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$n()(t);case 2:n=e.sent,a=n.toDataURL("image/png"),(r=new Qn.a).addImage(a,"JPEG",20,20,200,200),r.save("download.pdf");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function ea(){var e=Object(le.a)(["\n    height:40px;\n    min-width:400px;\n    display: flex;\n    align-items:center;\n    Justify-content:flex-start;\n    padding-left: 15px;\n    \n"]);return ea=function(){return e},e}function ta(){var e=Object(le.a)(["\n    height:40px; \n    background-Color:#FFF; \n    position: relative;\n    display: flex;\n    flex-flow: row;\n    justify-content: flex-end;\n"]);return ta=function(){return e},e}function na(){var e=Object(le.a)(["\n    height:40px; \n    width:100%; \n    background-Color:#FFF; \n    position: relative;\n    display: flex;\n    flex-flow: row;\n    justify-content: Space-Between;\n    box-shadow: rgba(0, 0, 0, 0.16) 0px 0px 16px 4px;\n\n"]);return na=function(){return e},e}function aa(){var e=Object(le.a)(["\n    ","\n    \n\n"]);return aa=function(){return e},e}function ra(){var e=Object(le.a)(["\n    display: flex;\n    position:relative;\n    flex-flow: row;\n    background-color: #F9F9F9;\n    \n"]);return ra=function(){return e},e}function oa(){var e=Object(le.a)(["\n    display: flex;\n    flex-flow: column;\n    background-color: #F9F9F9;\n    \n"]);return oa=function(){return e},e}var ia=ue.a.div(oa()),ca=ue.a.div(ra()),la=(ue.a.div(aa(),""),ue.a.div(na())),ua=ue.a.div(ta()),sa=ue.a.label(ea()),da=n(304),fa=n(19),ma=[{label:"Save Process",key:1},{label:"New from template",key:2},{label:"Log out",key:3}],pa={firstname:"Staff",lastName:"User",ticketNumber:"X0000000"},va=function(e){var t=e.data,n=void 0===t?pa:t,a=Object(i.useContext)(E).deleteSession,r=Object(ce.f)();return c.a.createElement(da.a,{content:function(){return c.a.createElement("div",null,c.a.createElement(An.a,{items:ma,onItemSelect:function(e){"Log out"===e.item.label&&(a(),r.push("/"))},overrides:{List:{style:{width:"200px"}},Option:{props:{getItemLabel:function(e){return e.label}}}}}))},placement:fa.f.rightTop,autoFocus:!0},c.a.createElement(Se.a,{kind:Nn.a.tertiary,endEnhancer:function(){return c.a.createElement(In.a,{size:24})}},function(e){var t=e.firstname,n=e.ticketNumber;return"".concat(t," - ").concat(n)}(n)))},ha=function(){var e=Jn(),t=e.width,n=e.height,a=Object(i.useContext)(E).getSession,r=Object(ce.g)().sketchId,o=c.a.useState(""),l=Object(d.a)(o,2),u=l[0],s=l[1],f=c.a.useState(""),m=Object(d.a)(f,2),p=m[0],v=m[1],h=c.a.useState(!1),g=Object(d.a)(h,2),b=g[0],x=g[1],y=c.a.useState(!1),O=Object(d.a)(y,2),j=O[0],S=O[1],C=function(){var e=Object(xe.a)(Ee.a.mark((function e(){var t;return Ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!j){e.next=2;break}return e.abrupt("return");case 2:return S(!0),t=document.querySelector(".konvajs-content canvas:last-child"),e.next=6,Zn(t);case 6:S(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){return s("")};return c.a.createElement(pt,null,c.a.createElement(ia,null,c.a.createElement(la,null,c.a.createElement(sa,null,c.a.createElement(va,{data:function(){var e=a();return"object"===typeof e?{firstname:e.firstname,username:e.username,email:e.email,ticketNumber:r}:pa}()})),c.a.createElement(ua,null,c.a.createElement(Yn.a,{content:c.a.createElement("p",null,"\xbfAre you done? Save it as PDF for approval"),accessibilityType:"tooltip"},c.a.createElement(Se.a,{kind:Nn.a.tertiary,shape:Nn.b.square,disabled:j,overrides:{Root:{style:{marginRight:"5px"}}},endEnhancer:function(){return c.a.createElement(It.f,null)},onClick:function(){return C()}},j?"Generating...":"Generate PDF")),c.a.createElement(Yn.a,{content:c.a.createElement("p",null,"Check the status of the report"),accessibilityType:"tooltip"},c.a.createElement(Se.a,{kind:Nn.a.tertiary,endEnhancer:function(){return c.a.createElement(In.a,{size:24})},onClick:function(){return x(!0)}},"Open Report")))),c.a.createElement(ca,null,c.a.createElement(Wn,{height:n,onClick:function(e){return s(e)},options:rt}),c.a.createElement(Rn,{selectShape:v,width:t,height:n,grid:c.a.createElement(Ln,{width:t,height:n})},c.a.createElement(cn,{selected:p,selectRect:v}),c.a.createElement(Xt,{selected:p,selectText:v}),c.a.createElement(Bt,{selected:p,selectValve:v}),c.a.createElement(Wt,{selected:p,selectDrip:v}),c.a.createElement(en,{selected:p,selectReducer:v}),c.a.createElement(vn,{selected:p,selectCoupling:v})))),c.a.createElement(on,{isOpen:u===Ie.rect,cancell:k}),c.a.createElement(At,{isOpen:u===Ie.valve,cancell:k}),c.a.createElement(Jt,{isOpen:u===Ie.text,cancell:k}),c.a.createElement(_t,{isOpen:u===Ie.drip,cancell:k}),c.a.createElement(Zt,{isOpen:u===Ie.reducer,cancell:k}),c.a.createElement(pn,{isOpen:u===Ie.union,cancell:k}),c.a.createElement(kn,{isOpen:b,cancell:function(){return x(!1)}}))};function ga(){var e=Object(le.a)(["\n    width: 100%;\n    height: 100vh;\n"]);return ga=function(){return e},e}var ba=ue.a.div(ga()),Ea=function(){return c.a.createElement(ba,null,c.a.createElement(ha,null))},xa=function(e,t){var n=t.number;return e(_()),Re.validTicket(n).then((function(t){var n=t.data;return e(W(n)),n})).catch((function(t){var n=t.message;return e(Y()),{access_granted:!1,error:n}}))};function ya(){var e=Object(le.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  width: calc(100vh - 300px);\n  max-width: 300px;\n"]);return ya=function(){return e},e}var Oa=ue.a.section(ya()),ja=function(){var e=Object(i.useState)(""),t=Object(d.a)(e,2),n=t[0],a=t[1],r=Object(i.useState)(!1),o=Object(d.a)(r,2),l=o[0],u=o[1],f=Object(i.useState)(""),m=Object(d.a)(f,2),p=m[0],v=m[1],h=Object(i.useState)(!1),g=Object(d.a)(h,2),b=g[0],E=g[1],x=Object(ce.f)(),y=Object(s.b)(),O=Object(s.c)((function(e){return e.get("validTicket").toObject()})).fetching,j=function(){var e=Object(xe.a)(Ee.a.mark((function e(){var t;return Ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xa(y,{number:n});case 2:t=e.sent,Object.prototype.hasOwnProperty.call(t,"error")?(v(t.error),u(!0),E(!0)):x.push("/Sketch/".concat(n));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){a("")};return c.a.createElement(Oa,null,l&&c.a.createElement(Ye.a,{onClose:function(){return E(!1)},isOpen:b},c.a.createElement(qe.a,null,c.a.createElement(Je.g,null,"New Ticket!")),c.a.createElement(Je.e,null,p),c.a.createElement(Je.f,null,c.a.createElement(Xe.a,{kind:"tertiary",onClick:function(){E(!1),S()}},"Cancel"),c.a.createElement(Xe.a,{autoFocus:!0,onClick:function(){x.push("/Sketch/".concat(n)),E(!1),S()}},"Confirm"))),c.a.createElement(je.a,{value:n,onChange:function(e){return a(e.currentTarget.value)},placeholder:"Ticket Number",overrides:{Root:{style:function(e){e.$theme;return{marginBottom:"10px"}}}}}),c.a.createElement(Se.a,{type:"submit",disabled:""===n||O,onClick:j,isLoading:O,overrides:{BaseButton:{style:{width:"100%"}}}},"NEXT"))};function Sa(){var e=Object(le.a)(['\nmargin-bottom:15px;\nfont-family: UberMove, UberMoveText, system-ui, "Helvetica Neue", Helvetica, Arial, sans-serif;\nmax-width: 300px;\nfont-size: 15px;\ncolor: black;\nletter-spacing:0.5px;\nfont-weight: bold;\n']);return Sa=function(){return e},e}function Ca(){var e=Object(le.a)(["\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  flex-direction: column;\n  padding:  50px 30px 50px 30px;\n  min-height: calc(100vh - 200px);\n  \n  \n\n.ticket__container{\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  justify-content: space-around;\n  padding: auto;\n  color: black;\n  min-height: 150px;\n  max-width: 300px;\n  \n}"]);return Ca=function(){return e},e}var ka=ue.a.section(Ca()),wa=ue.a.h5(Sa()),Ta=n(108),Ra=n(309),Ma=n(105),Pa=n(305),Da=n(32);function La(e){return e.label}var Ia=[{icon:In.a,item:{label:"Options"},mapItemToNode:La,mapItemToString:La,navExitIcon:Ma.a,navPosition:{desktop:Da.b.horizontal},nav:[{icon:In.a,item:{label:"Search by ticket"},mapItemToNode:La,mapItemToString:La},{icon:Pa.a,item:{label:"Search by location"},mapItemToNode:La,mapItemToString:La}]}],Na=n(306);function Aa(e){return e.label}var Ba=[{icon:Na.a,item:{label:"Search by ticket"},mapItemToNode:Aa,mapItemToString:Aa},{icon:Na.a,item:{label:"Search by location"},mapItemToNode:Aa,mapItemToString:Aa},{icon:Na.a,item:{label:"Log out"},mapItemToNode:Aa,mapItemToString:Aa}];function za(){var e=Object(le.a)(["\n        margin: 0px;\n        color:#10A5C3;\n        font-size: small;\n        width: 200px;\n        margin-left:5px;\n"]);return za=function(){return e},e}function Fa(){var e=Object(le.a)(["\n        display: flex;\n        flex-direction: row;\n        justify-content: center;\n        align-items:center;\n\n"]);return Fa=function(){return e},e}function Ha(){var e=Object(le.a)(["\n        color:#10A5C3;\n        transform: rotate(-90deg);\n        margin:0;\n        padding:0;\n        max-width:70px;\n        text-align:center;\n"]);return Ha=function(){return e},e}function Ua(){var e=Object(le.a)(["\n        margin: 0px;\n        color:#10A5C3;\n"]);return Ua=function(){return e},e}function Ga(){var e=Object(le.a)(["\n        box-sizing:border-box;\n        width: 100vw;\n        position: fixed;\n        top: 0;\n        left: 0;   \n"]);return Ga=function(){return e},e}var Va=ue.a.section(Ga()),_a=ue.a.h1(Ua()),Wa=ue.a.p(Ha()),Ya=ue.a.div(Fa()),qa=ue.a.h4(za());var Ja=function(){var e=c.a.useState(null),t=Object(d.a)(e,2),n=t[0],a=t[1],r=Object(i.useContext)(E).deleteSession,o=Object(ce.f)(),l=c.a.createElement(Ta.a,{$style:{textDecoration:"none",fontWeight:"bold",color:"inherit",":hover":{color:"inherit"},":visited":{color:"inherit"}},href:"/"},c.a.createElement(Ya,null,c.a.createElement(_a,null,"ConEdison"),c.a.createElement(Wa,null,"......."),c.a.createElement(qa,null,"EVERYTHING MATTERS")));return c.a.createElement(c.a.Fragment,null,c.a.createElement(Va,null,c.a.createElement(Ra.a,{appDisplayName:l,isNavItemActive:function(e){var t=e.item;return t===n||function e(t,n,a){for(var r=!1,o=0;o<t.length;o++){var i=t[o];if(i===n)return n===a||e(n&&n.nav||[],a,a);i.nav&&(r=e(i.nav||[],n,a))}return r}(Ia,t,n)},onNavItemSelect:function(e){var t=e.item.item;console.log(t),a(t===n?null:t),"Log out"===t.label&&(r(),o.push("/"))},userNav:Ba,username:"Juan Cruz",usernameSubtitle:"Gas engineering",userImgUrl:""})))},Xa=function(){return c.a.createElement(ka,null,c.a.createElement(Ja,null),c.a.createElement(Ue,null,c.a.createElement(wa,null,"Please enter your job ticket number"),c.a.createElement(ja,null)))},$a=n(175),Ka=n.n($a);function Qa(){var e=Object(le.a)(["\n    padding:0px 30px;\n    height: inherit;\n    object-fit:scale-down;\n"]);return Qa=function(){return e},e}function Za(){var e=Object(le.a)(["\n    flex-direction: column;\n    align-items: center;\n    justify-content:center;\n    width: 700px;\n    height: inherit;\n    padding: auto;\n\n"]);return Za=function(){return e},e}function er(){var e=Object(le.a)(['\n    display:flex;\n    flex-direction: column;\n    align-items:center;\n    justify-content:center;\n    width: 500px;\n    height: inherit;\n    margin-left:20px;\n    padding: 10px;\nh1{\n    line-height: 44px;\n    font-weight: 500;\n    font-size: 36px;\n    font-family: UberMoveText, system-ui, "Helvetica Neue", Helvetica, Arial, sans-serif;\n    display:b\n}\nh3{\n    padding: 30px 0;\n    line-height: 24px;\n    font-weight: normal;\n    font-size: 16px;\n    font-family: UberMoveText, system-ui, "Helvetica Neue", Helvetica, Arial, sans-serif;\n}\n']);return er=function(){return e},e}function tr(){var e=Object(le.a)(["\n    display:flex;\n    flex-direction: row;\n    justify-content: space-around;\n    align-items:center;\n    height: calc(100vh - 70px);\n    padding: auto 0;\n"]);return tr=function(){return e},e}function nr(){var e=Object(le.a)(["\n    padding:0px 5px;\n    height: 50px;\n    object-fit:scale-down;\n    width:225px;\n    height: 39px;\n"]);return nr=function(){return e},e}function ar(){var e=Object(le.a)(["\n    background-color: white;\n    padding:0;\n    object-fit: cover;\n    height: 70px;\n    width: 100%;\n    display:flex;\n    align-items:center;\n    justify-content:flex-start;\n    box-shadow: rgba(0, 0, 0, 0.16) 0px 0px 16px 4px;    \n"]);return ar=function(){return e},e}function rr(){var e=Object(le.a)(['\n\n  margin: 0;\n  font-family: "Muli", sans-serif;\n  min-height: 100vh; \n  min-width: 100vh;\na {\n  color: white;\n  cursor: pointer;\n  text-decoration: none;\n}\n']);return rr=function(){return e},e}var or=ue.a.section(rr()),ir=ue.a.section(ar()),cr=ue.a.img(nr()),lr=ue.a.section(tr()),ur=ue.a.div(er()),sr=ue.a.div(Za()),dr=ue.a.img(Qa()),fr=n(176),mr=n.n(fr),pr=function(){return c.a.createElement(or,null,c.a.createElement(ir,null,c.a.createElement(cr,{src:Ka.a,alt:"ConEdison Logo"})),c.a.createElement(lr,null,c.a.createElement(ur,{className:"Title"},c.a.createElement("div",null,c.a.createElement("h1",null,"We are sorry. We couldn't find the page"),c.a.createElement("h3",null,"We moved a lot of things, and your page must be lost between the changes. ",c.a.createElement("br",null),"Try re-entering the address or just go back to the home page.")),c.a.createElement(Ta.a,{href:"/"},"Go back")),c.a.createElement(sr,null,c.a.createElement(dr,{src:mr.a,alt:"404 NOT FOUND"}))))},vr=function(){return c.a.createElement(ce.c,null,c.a.createElement(ce.a,{exact:!0,path:"/",component:Xa}),c.a.createElement(ce.a,{exact:!0,path:"/Sketch/:sketchId",component:Ea}),c.a.createElement(ce.a,{component:pr}))},hr=function(){var e=Object(i.useContext)(E).session;return c.a.createElement(ie.a,{basename:"/sketch-manager-FE"},e?c.a.createElement(vr,null):c.a.createElement(Ve,null))},gr={accent:"#0581C1",accent50:"#E0F3FA",accent100:"#C1E6F5",accent200:"#069BD7",accent300:"#0471A9",accent400:"#046191",accent500:"#035179",accent600:"#034161",accent700:"#023048"},br={colors:{buttonPrimaryFill:gr.accent,buttonPrimaryText:"#FFF",buttonPrimaryHover:gr.accent200,buttonPrimaryActive:gr.accent300,buttonPrimarySelectedFill:gr.accent200,buttonPrimarySelectedText:"#FFF",buttonPrimarySpinnerForeground:gr.accent700,buttonPrimarySpinnerBackground:gr.accent300}},Er=Object(j.a)(gr,br),xr=new y.a;var yr=function(){return c.a.createElement(s.a,{store:oe},c.a.createElement(x,null,c.a.createElement(O.a,{value:xr},c.a.createElement(S.a,{theme:Er},c.a.createElement(hr,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(yr,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[191,1,2]]]);
//# sourceMappingURL=main.945e7f0b.chunk.js.map