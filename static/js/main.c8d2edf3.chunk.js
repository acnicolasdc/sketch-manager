(this["webpackJsonpsketch-manager"]=this["webpackJsonpsketch-manager"]||[]).push([[0],{107:function(e,t,n){e.exports=n(173)},111:function(e,t,n){},173:function(e,t,n){"use strict";n.r(t);var a,r,c=n(0),l=n.n(c),o=n(45),i=n.n(o),u=(n(111),n(99)),s=n(31),d=n(194),f=n(174),m=n(37),p=n.n(m),h=n(46),v=n(12),g=n(3),E=n(200),b=n(201),x=n(188),C=n(38),O=n(189);!function(e){e.rect="rect-module",e.text="text-module",e.line="line-module",e.valve="valve-module",e.drip="drip-module",e.reducer="reducer-module",e.union="union-module"}(a||(a={})),function(e){e.tf="TF",e.ij="IJ",e.simple="SM",e.uni="UNI"}(r||(r={}));var y={x:200,y:200,width:450,height:5,value:'500"',data:{},id:"rect-code"},j={x:200,y:200,fontSize:15,text:"",id:"label-code"},k={x:200,y:200,radius:10,code:"V#12345",id:"circle-code"},S={x:200,y:200,code:'12"',id:"triangle-code"},T={x:200,y:200,id:"coupling-code",type:r.uni,text:""},w=[{label:"Pipe",key:a.rect,icon:"BsDash"},{label:"Coupling",key:a.union,icon:"BsCrop"},{label:"Valve",key:a.valve,icon:"BsCircle"},{label:"Drip",key:a.drip,icon:"BsCircleFill"},{label:"Reducer",key:a.reducer,icon:"BsCaretRightFill"},{label:"Label",key:a.text,icon:"BsTextareaT"}],R=n(52),F=l.a.createContext({rectangles:[],reducers:[],valves:[],drips:[],texts:[],couplings:[],addText:function(){},addReact:function(){},addReducers:function(){},addValves:function(){},addDrips:function(){},addCoupling:function(){},updateTexts:function(){},updateValves:function(){},updateReact:function(){},updateDrips:function(){},updateReducers:function(){},updateCouplings:function(){}}),L=function(e){var t=e.children,n=l.a.useState([]),a=Object(v.a)(n,2),r=a[0],c=a[1],o=l.a.useState([]),i=Object(v.a)(o,2),u=i[0],s=i[1],d=l.a.useState([]),f=Object(v.a)(d,2),m=f[0],p=f[1],h=l.a.useState([]),g=Object(v.a)(h,2),E=g[0],b=g[1],x=l.a.useState([]),C=Object(v.a)(x,2),O=C[0],y=C[1],j=l.a.useState([]),k=Object(v.a)(j,2),S=k[0],T=k[1],w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"object"===typeof e&&0!==Object.keys(e).length},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;w(e)&&t((function(t){return[].concat(Object(R.a)(t),[e])}))};return l.a.createElement(F.Provider,{value:{rectangles:r,couplings:S,texts:u,valves:m,drips:E,reducers:O,addReact:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return L(e,c)},addText:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return L(e,s)},addValves:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return L(e,p)},addDrips:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return L(e,b)},addReducers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return L(e,y)},updateReact:function(e){return c(e)},updateCouplings:function(e){return T(e)},updateTexts:function(e){return s(e)},updateValves:function(e){return p(e)},updateDrips:function(e){return b(e)},updateReducers:function(e){return y(e)},addCoupling:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return L(e,T)}}},t)},P=function(){},D=function(e){var t=e.cancell,n=void 0===t?P:t,a=e.isOpen,r=void 0!==a&&a,l=c.useState(Array(5).fill("")),o=Object(v.a)(l,2),i=o[0],u=o[1],s=c.useContext(F),d=s.addValves,f=s.valves;return c.createElement(b.a,{onClose:n,isOpen:r},c.createElement(x.a,null,c.createElement(C.g,null,"Create a Valve")),c.createElement(C.e,null,c.createElement(E.a,{values:i,onChange:function(e){var t=e.values;u(t)}})),c.createElement(C.f,null,c.createElement(O.a,{kind:"tertiary",onClick:n},"Close"),c.createElement(O.a,{autoFocus:!0,onClick:function(){var e=Object(g.a)(Object(g.a)({},k),{},{id:"rect-code-valve-".concat(f.length),code:"V#".concat(i.join(""))});d(e),u(Array(5).fill("")),n()}},"Create")))},B=n(5),M=function(e){var t=e.shapeProps,n=e.isSelected,a=e.onSelect,r=e.onChange,c=l.a.useRef(),o=l.a.useRef();return l.a.useEffect((function(){n&&(o.current.setNode(c.current),o.current.getLayer().batchDraw())}),[n]),l.a.createElement(l.a.Fragment,null,l.a.createElement(B.Group,{ref:c,onContextMenu:a,onClick:a,onTap:a,draggable:!0},l.a.createElement(B.Text,{text:t.code,fontSize:12,x:t.x+t.radius+10,y:t.y-15}),l.a.createElement(B.Circle,Object.assign({radius:20,stroke:"#2d3436"},t,{onTransformEnd:function(e){var n=c.current,a=n.scaleY();n.scaleX(1),n.scaleY(1),r(Object(g.a)(Object(g.a)({},t),{},{x:n.x(),y:n.y(),radius:Math.max(n.height()*a)}))}}))),n&&l.a.createElement(B.Transformer,{ref:o,boundBoxFunc:function(e,t){return t.width<5||t.height<5?e:t}}))},I=D,z=l.a.memo((function(e){var t=e.selected,n=void 0===t?"":t,a=e.selectValve,r=void 0===a?function(){}:a,c=l.a.useContext(F),o=c.updateValves,i=c.valves;return l.a.createElement(l.a.Fragment,null,null===i||void 0===i?void 0:i.map((function(e,t){return l.a.createElement(M,{key:t,shapeProps:e,isSelected:e.id===n,onSelect:function(t){return function(e,t){"click"===e.type?r(t):"contextmenu"===e.type&&(window.addEventListener("contextmenu",(function(e){e.preventDefault()})),alert("Right click"))}(t,e.id)},onChange:function(e){var n=i.slice();n[t]=e,o(n)}})})))})),Y=function(){},G=function(e){var t=e.shapeProps,n=e.isSelected,a=e.onSelect,r=e.onChange,c=l.a.useRef(),o=l.a.useRef();return l.a.useEffect((function(){n&&(o.current.setNode(c.current),o.current.getLayer().batchDraw())}),[n]),l.a.createElement(l.a.Fragment,null,l.a.createElement(B.Group,{ref:c,onContextMenu:a,onClick:a,onTap:a,draggable:!0},l.a.createElement(B.Text,{text:t.code,fontSize:12,x:t.x+t.radius+10,y:t.y-15}),l.a.createElement(B.Circle,Object.assign({radius:20,fill:"#4d73be"},t,{onTransformEnd:function(e){var n=c.current,a=n.scaleY();n.scaleX(1),n.scaleY(1),r(Object(g.a)(Object(g.a)({},t),{},{x:n.x(),y:n.y(),radius:Math.max(n.height()*a)}))}}))),n&&l.a.createElement(B.Transformer,{ref:o,boundBoxFunc:function(e,t){return t.width<5||t.height<5?e:t}}))},N=function(e){var t=e.cancell,n=void 0===t?Y:t,a=e.isOpen,r=void 0!==a&&a,l=c.useState(Array(5).fill("")),o=Object(v.a)(l,2),i=o[0],u=o[1],s=c.useContext(F),d=s.addDrips,f=s.drips;return c.createElement(b.a,{onClose:n,isOpen:r},c.createElement(x.a,null,c.createElement(C.g,null,"Create a Drip")),c.createElement(C.e,null,c.createElement(E.a,{values:i,onChange:function(e){var t=e.values;u(t)}})),c.createElement(C.f,null,c.createElement(O.a,{kind:"tertiary",onClick:n},"Close"),c.createElement(O.a,{autoFocus:!0,onClick:function(){var e=Object(g.a)(Object(g.a)({},k),{},{id:"rect-code-drip-".concat(f.length),code:"D#".concat(i.join(""))});d(e),u(Array(5).fill("")),n()}},"Create")))},V=l.a.memo((function(e){var t=e.selected,n=void 0===t?"":t,a=e.selectDrip,r=void 0===a?function(){}:a,c=l.a.useContext(F),o=c.updateDrips,i=c.drips;return l.a.createElement(l.a.Fragment,null,null===i||void 0===i?void 0:i.map((function(e,t){return l.a.createElement(G,{key:t,shapeProps:e,isSelected:e.id===n,onSelect:function(t){return function(e,t){"click"===e.type?r(t):"contextmenu"===e.type&&(window.addEventListener("contextmenu",(function(e){e.preventDefault()})),alert("Right click"))}(t,e.id)},onChange:function(e){var n=i.slice();n[t]=e,o(n)}})})))})),H=n(198),A=function(){},W=function(e){var t=e.shapeProps,n=e.isSelected,a=e.onSelect,r=e.onChange,c=l.a.useRef(),o=l.a.useRef();return l.a.useEffect((function(){n&&(o.current.setNode(c.current),o.current.getLayer().batchDraw())}),[n]),l.a.createElement(l.a.Fragment,null,l.a.createElement(B.Text,Object.assign({onContextMenu:a,onClick:a,onTap:a,ref:c},t,{draggable:!0,onDragEnd:function(e){r(Object(g.a)(Object(g.a)({},t),{},{x:e.target.x(),y:e.target.y()}))},onTransformEnd:function(e){var n=c.current,a=n.scaleX(),l=n.scaleY();n.scaleX(1),n.scaleY(1),r(Object(g.a)(Object(g.a)({},t),{},{x:n.x(),y:n.y(),fontSize:Math.max(n.height()*l),width:Math.max(5,n.width()*a),height:Math.max(n.height()*l)}))}})),n&&l.a.createElement(B.Transformer,{ref:o,boundBoxFunc:function(e,t){return t.width<5||t.height<5?e:t}}))},X=function(e){var t=e.cancell,n=void 0===t?A:t,a=e.isOpen,r=void 0!==a&&a,l=c.useState(""),o=Object(v.a)(l,2),i=o[0],u=o[1],s=c.useContext(F),d=s.addText,f=s.texts;return c.createElement(b.a,{onClose:n,isOpen:r},c.createElement(x.a,null,c.createElement(C.g,null,"Create a Label")),c.createElement(C.e,null,c.createElement(H.a,{value:i,onChange:function(e){return u(e.target.value)},placeholder:"Label text"})),c.createElement(C.f,null,c.createElement(O.a,{kind:"tertiary",onClick:n},"Close"),c.createElement(O.a,{autoFocus:!0,onClick:function(){var e=Object(g.a)(Object(g.a)({},j),{},{id:"rect-code-text-".concat(f.length),text:i});d(e),u(""),n()},disabled:""===i},"Create")))},q=l.a.memo((function(e){var t=e.selected,n=void 0===t?"":t,a=e.selectText,r=void 0===a?function(){}:a,c=l.a.useContext(F),o=c.texts,i=c.updateTexts;return l.a.createElement(l.a.Fragment,null,null===o||void 0===o?void 0:o.map((function(e,t){return l.a.createElement(W,{key:t,shapeProps:e,isSelected:e.id===n,onSelect:function(t){return function(e,t){"click"===e.type?r(t):"contextmenu"===e.type&&(window.addEventListener("contextmenu",(function(e){e.preventDefault()})),alert("Right click"))}(t,e.id)},onChange:function(e){var n=o.slice();n[t]=e,i(n)}})})))})),J=n(195),U=[{label:'2"x1"',id:'2"x1"'},{label:'2"x1-1/4"',id:'2"x1-1/4"'},{label:'4"x2"',id:'4"x2"'},{label:'6"x4"',id:'6"x4"'},{label:'8"x6"',id:'8"x6"'},{label:'12"x8"',id:'12"x8"'},{label:'16"x12"',id:'16"x12"'},{label:'20"x12"',id:'20"x12"'}],$=function(){},Z=function(e){var t=e.shapeProps,n=e.isSelected,a=e.onSelect,r=e.onChange,c=l.a.useRef(),o=l.a.useRef();return l.a.useEffect((function(){n&&(o.current.setNode(c.current),o.current.getLayer().batchDraw())}),[n]),l.a.createElement(l.a.Fragment,null,l.a.createElement(B.Group,{ref:c,onContextMenu:a,onClick:a,onTap:a,draggable:!0},l.a.createElement(B.Text,{text:t.value,fontSize:12,x:t.x+30,y:t.y}),l.a.createElement(B.Line,Object.assign({points:[0,30,15,0,30,30],closed:!0,fill:"#2d3436"},t,{onTransformEnd:function(e){var n=c.current,a=n.scaleY();n.scaleX(1),n.scaleY(1),r(Object(g.a)(Object(g.a)({},t),{},{x:n.x(),y:n.y(),radius:Math.max(n.height()*a)}))}}))),n&&l.a.createElement(B.Transformer,{ref:o,boundBoxFunc:function(e,t){return t.width<5||t.height<5?e:t}}))},K=function(e){var t=e.cancell,n=void 0===t?$:t,a=e.isOpen,r=void 0!==a&&a,l=c.useState([]),o=Object(v.a)(l,2),i=o[0],u=o[1],s=c.useContext(F),d=s.addReducers,f=s.reducers;return c.createElement(b.a,{onClose:n,isOpen:r},c.createElement(x.a,null,c.createElement(C.g,null,"Create a Reducer")),c.createElement(C.e,null,c.createElement(J.a,{options:U,value:i,placeholder:"Select size",onChange:function(e){return u(e.value)}})),c.createElement(C.f,null,c.createElement(O.a,{kind:"tertiary",onClick:n},"Close"),c.createElement(O.a,{autoFocus:!0,onClick:function(){var e=Object(g.a)(Object(g.a)({},S),{},{id:"rect-code-reducer-".concat(f.length),value:"".concat(i[0].label)});d(e),u([]),n()},disabled:0===i.length},"Create")))},Q=l.a.memo((function(e){var t=e.selected,n=void 0===t?"":t,a=e.selectReducer,r=void 0===a?function(){}:a,c=l.a.useContext(F),o=c.updateReducers,i=c.reducers;return l.a.createElement(l.a.Fragment,null,null===i||void 0===i?void 0:i.map((function(e,t){return l.a.createElement(Z,{key:t,shapeProps:e,isSelected:e.id===n,onSelect:function(t){return function(e,t){"click"===e.type?r(t):"contextmenu"===e.type&&(window.addEventListener("contextmenu",(function(e){e.preventDefault()})),alert("Right click"))}(t,e.id)},onChange:function(e){var n=i.slice();n[t]=e,o(n)}})})))})),_=n(202),ee=[{label:"PE",id:"PE"},{label:"PT",id:"PT"},{label:"ST",id:"ST"},{label:"ST (C)",id:"ST(C)"},{label:"CI",id:"CI"},{label:"CT",id:"CT"},{label:"WI",id:"WI"}],te=[{label:"DB",id:"DB"},{label:"INSERT",id:"INSERT"},{label:"HOLEHOG",id:"HOLEHOG"},{label:"PIM",id:"PIM"},{label:"CONSPLIT",id:"CONSPLIT"}],ne=[{label:"LP",id:"LP"},{label:"MP",id:"MP"},{label:"IP",id:"IP"},{label:"HP",id:"HP"},{label:"TP",id:"TP"}],ae=[{label:'1"',id:"1"},{label:'1-1/4"',id:"1-1/4"},{label:'1-1/2"',id:"1-1/2"},{label:'2"',id:"2"},{label:'3"',id:"3"},{label:'4"',id:"4"},{label:'6"',id:"6"},{label:'8"',id:"8"},{label:'12"',id:"12"},{label:'16"',id:"16"},{label:'20"',id:"20"},{label:'24"',id:"24"}],re=n(4),ce=Object(re.a)("div",{display:"grid",gridGap:"10px",gridTemplateColumns:"repeat(2, 1fr)",marginBottom:"10px"}),le=function(){},oe=function(e){var t=e.shapeProps,n=e.isSelected,a=e.onSelect,r=e.onChange,c=l.a.useRef(),o=l.a.useRef();l.a.useEffect((function(){n&&(o.current.setNode(c.current),o.current.getLayer().batchDraw())}),[n]);var i=t.x+t.width/2;return l.a.createElement(l.a.Fragment,null,l.a.createElement(B.Group,{ref:c,onContextMenu:a,onClick:a,onTap:a,draggable:!0},l.a.createElement(B.Text,{text:"Length: ".concat(t.value),fontSize:12,x:i,y:t.y-15}),l.a.createElement(B.Rect,Object.assign({fill:"#2d3436"},t,{onTransformEnd:function(e){var n=c.current,a=n.scaleX(),l=n.scaleY();n.scaleX(1),n.scaleY(1),r(Object(g.a)(Object(g.a)({},t),{},{x:n.x(),y:n.y(),width:Math.max(5,n.width()*a),height:Math.max(n.height()*l)}))}})),l.a.createElement(B.Text,{text:"Cover: ".concat(t.data.cover,'"'),fontSize:12,x:i,y:t.y+10})),n&&l.a.createElement(B.Transformer,{ref:o,rotateAnchorOffset:100,rotationSnaps:[45,90,135,180,225,270,315,360],boundBoxFunc:function(e,t){return t.width<5||t.height<5?e:(t.height=e.height,t)}}))},ie=function(e){e.accept;var t=e.cancell,n=void 0===t?le:t,a=e.isOpen,r=void 0!==a&&a,l=c.useState([]),o=Object(v.a)(l,2),i=o[0],u=o[1],s=c.useState([]),d=Object(v.a)(s,2),f=d[0],m=d[1],p=c.useState([]),h=Object(v.a)(p,2),E=h[0],j=h[1],k=c.useState([]),S=Object(v.a)(k,2),T=S[0],w=S[1],R=c.useState(""),L=Object(v.a)(R,2),P=L[0],D=L[1],B=c.useState(""),M=Object(v.a)(B,2),I=M[0],z=M[1],Y=c.useState([70]),G=Object(v.a)(Y,2),N=G[0],V=G[1],A=c.useContext(F),W=A.addReact,X=A.rectangles;return c.createElement(b.a,{onClose:n,isOpen:r},c.createElement(x.a,null,c.createElement(C.g,null,"Create a Pipe")),c.createElement(C.e,null,c.createElement(ce,null,c.createElement(J.a,{options:ee,value:i,placeholder:"Select material",onChange:function(e){return u(e.value)}}),c.createElement(J.a,{options:te,value:T,placeholder:"Select method",onChange:function(e){return w(e.value)}})),c.createElement(ce,null,c.createElement(J.a,{options:ae,value:E,placeholder:"Select size",onChange:function(e){return j(e.value)}}),c.createElement(J.a,{options:ne,value:f,placeholder:"Select pressure",onChange:function(e){return m(e.value)}})),c.createElement(ce,null,c.createElement(H.a,{required:!0,value:I,onChange:function(e){return z(e.target.value)},placeholder:"Year"}),c.createElement(H.a,{required:!0,value:P,onChange:function(e){return D(e.target.value)},placeholder:"Length"})),c.createElement(_.a,{value:N,min:10,max:100,onChange:function(e){var t=e.value;return V(t)},overrides:{InnerThumb:function(e){var t=e.$value,n=e.$thumbIndex;return c.createElement(c.Fragment,null,t[n]+'"')},ThumbValue:function(){return null},Thumb:{style:function(){return{height:"36px",width:"36px",display:"flex",alignItems:"center",justifyContent:"center",borderTopLeftRadius:"36px",borderTopRightRadius:"36px",borderBottomRightRadius:"36px",borderBottomLeftRadius:"36px",borderLeftStyle:"solid",borderRightStyle:"solid",borderTopStyle:"solid",borderBottomStyle:"solid",borderLeftWidth:"3px",borderTopWidth:"3px",borderRightWidth:"3px",borderBottomWidth:"3px",borderLeftColor:"#ccc",borderTopColor:"#ccc",borderRightColor:"#ccc",borderBottomColor:"#ccc",backgroundColor:"#fff"}}}}})),c.createElement(C.f,null,c.createElement(O.a,{kind:"tertiary",onClick:n},"Close"),c.createElement(O.a,{autoFocus:!0,onClick:function(){var e=Object(g.a)(Object(g.a)({},y),{},{id:"rect-code-pipe-".concat(X.length),value:"".concat(P,"'"),width:parseInt(P,10),data:{material:i[0].label,pressure:f[0].label,size:E[0].label,method:T[0].label,length:P,year:I,cover:N[0]}});W(e),n()},disabled:0===i.length||0===f.length||0===E.length||0===T.length||""===I||0===N.length||""===P},"Create")))},ue=l.a.memo((function(e){var t=e.selected,n=void 0===t?"":t,a=e.selectRect,r=void 0===a?function(){}:a,c=l.a.useContext(F),o=c.updateReact,i=c.rectangles;return l.a.createElement(l.a.Fragment,null,null===i||void 0===i?void 0:i.map((function(e,t){return l.a.createElement(oe,{key:t,shapeProps:e,isSelected:e.id===n,onSelect:function(t){return function(e,t){"click"===e.type?r(t):"contextmenu"===e.type&&(window.addEventListener("contextmenu",(function(e){e.preventDefault()})),alert("Right click"))}(t,e.id)},onChange:function(e){var n=i.slice();n[t]=e,o(n)}})})))})),se=n(190),de=n(191),fe=n(192),me=function(){},pe=function(e){var t=e.shapeProps,n=e.isSelected,a=e.onSelect,r=e.onChange,c=l.a.useRef(),o=l.a.useRef();return l.a.useEffect((function(){n&&(o.current.setNode(c.current),o.current.getLayer().batchDraw())}),[n]),l.a.createElement(l.a.Fragment,null,l.a.createElement(B.Group,{onContextMenu:a,onClick:a,onTap:a,ref:c,draggable:!0},l.a.createElement(B.Line,Object.assign({points:[0,60,0,100],stroke:"#2d3436"},t,{onTransformEnd:function(e){var n=c.current,a=n.scaleY();n.scaleX(1),n.scaleY(1),r(Object(g.a)(Object(g.a)({},t),{},{x:n.x(),y:n.y(),height:Math.max(n.height()*a)}))}})),l.a.createElement(B.Text,{text:t.text,fontSize:12,x:t.x-6,y:t.y+110})),n&&l.a.createElement(B.Transformer,{ref:o,boundBoxFunc:function(e,t){return t.width<5||t.height<5?e:(t.height=e.height,t)}}))},he=function(e){var t=e.shapeProps,n=e.isSelected,a=e.onSelect,r=e.onChange,c=l.a.useRef(),o=l.a.useRef();l.a.useEffect((function(){n&&(o.current.setNode(c.current),o.current.getLayer().batchDraw())}),[n]);var i=function(){var e=c.current,n=e.scaleY();e.scaleX(1),e.scaleY(1),r(Object(g.a)(Object(g.a)({},t),{},{x:e.x(),y:e.y(),height:Math.max(e.height()*n)}))};return l.a.createElement(l.a.Fragment,null,l.a.createElement(B.Group,{ref:c,onContextMenu:a,onClick:a,onTap:a,draggable:!0},l.a.createElement(B.Line,Object.assign({points:[10,50,10,80],stroke:"#2d3436"},t,{onTransformEnd:i})),l.a.createElement(B.Line,Object.assign({points:[30,50,30,80],stroke:"#2d3436"},t,{onTransformEnd:i})),l.a.createElement(B.Line,Object.assign({points:[5,55,35,55],stroke:"#2d3436"},t,{onTransformEnd:i})),l.a.createElement(B.Line,Object.assign({points:[5,75,35,75],stroke:"#2d3436"},t,{onTransformEnd:i}))),n&&l.a.createElement(B.Transformer,{ref:o,boundBoxFunc:function(e,t){return t.width<5||t.height<5?e:t}}))},ve=function(e){var t=e.cancell,n=void 0===t?me:t,a=e.isOpen,l=void 0!==a&&a,o=c.useState("ji"),i=Object(v.a)(o,2),u=i[0],s=i[1],d=c.useContext(F),f=d.addCoupling,m=d.couplings;return c.createElement(b.a,{onClose:n,isOpen:l},c.createElement(x.a,null,c.createElement(C.g,null,"Create a Coupling")),c.createElement(C.e,null,c.createElement(se.a,{value:u,onChange:function(e){return s(e.target.value)},name:"coupling",align:de.a.horizontal},c.createElement(fe.a,{value:r.tf},"TF"),c.createElement(fe.a,{value:r.ij},"JI"),c.createElement(fe.a,{value:r.uni},"Union"),c.createElement(fe.a,{value:r.simple},"Simple"))),c.createElement(C.f,null,c.createElement(O.a,{kind:"tertiary",onClick:n},"Close"),c.createElement(O.a,{autoFocus:!0,onClick:function(){var e="simple"===u?"":u,t=Object(g.a)(Object(g.a)({},T),{},{id:"rect-code-coypling-".concat(m.length),text:e,type:u});f(t),s(""),n()},disabled:""===u},"Create")))},ge=l.a.memo((function(e){var t=e.selected,n=void 0===t?"":t,a=e.selectCoupling,c=void 0===a?function(){}:a,o=l.a.useContext(F),i=o.couplings,u=o.updateCouplings,s=function(e,t){"click"===e.type?c(t):"contextmenu"===e.type&&(window.addEventListener("contextmenu",(function(e){e.preventDefault()})),alert("Right click"))};return l.a.createElement(l.a.Fragment,null,null===i||void 0===i?void 0:i.map((function(e,t){return r.uni===e.type?l.a.createElement(he,{key:t,shapeProps:e,isSelected:e.id===n,onSelect:function(t){return s(t,e.id)},onChange:function(e){var n=i.slice();n[t]=e,u(n)}}):l.a.createElement(pe,{key:t,shapeProps:e,isSelected:e.id===n,onSelect:function(t){return s(t,e.id)},onChange:function(e){var n=i.slice();n[t]=e,u(n)}})})))})),Ee=n(199),be=n(23),xe=c.memo((function(e){var t=e.isOpen,n=void 0!==t&&t,a=e.cancell,r=void 0===a?function(){}:a,l=c.useContext(F).rectangles,o=function(){var e=["SIZE"],t=["YEAR"],n=["COVER"],a=["LENGTH"],r=["MATERIAL"],c=["METHOD"],o=["PRESSURE"],i=function(e){var t=new Map;return l.forEach((function(n){var a=e(n,"size"),r=e(n,"material"),c=e(n,"pressure"),l=e(n,"method"),o=e(n,"year"),i="".concat(a,"/").concat(r,"/").concat(c,"/").concat(l,"/").concat(o),u=t.get(i);u?u.push(n):t.set(i,[n])})),t}((function(e,t){return e.data[t]})),u=[];i.forEach((function(e){var t={};e.forEach((function(e){var n,a,r=e.data;t=Object(g.a)(Object(g.a)({},r),{},{length:t.length?(n=t.length,a=r.length,parseInt(n,10)+parseInt(a,10)):parseInt(r.length)})})),u.push(t)}));var s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.map((function(e,t){return"SEGMENT ".concat(t+1)})),n=[""].concat(Object(R.a)(t));return n}(u);return u.forEach((function(l){Object.keys(l).forEach((function(i){switch(i){case"size":e.push(l[i]);break;case"year":t.push(l[i]);break;case"cover":n.push(l[i]);break;case"length":a.push("".concat(l[i],"'"));break;case"material":r.push(l[i]);break;case"method":c.push(l[i]);break;case"pressure":o.push(l[i])}}))})),{data:[e,t,n,a,r,c,o],header:s}}(),i=o.data,u=o.header;return c.createElement(b.a,{onClose:r,closeable:!0,isOpen:n,animate:!0,autoFocus:!0,size:be.c.full,role:be.b.dialog},c.createElement(C.g,null,"Report status"),c.createElement(C.e,null,c.createElement(Ee.a,{columns:u,data:i})))})),Ce=n(193),Oe=n(175),ye=n(9),je=n(196),ke=n(100),Se=n(21),Te=n(25),we=n(26);function Re(){var e=Object(Te.a)(["\n    margin-top:3px;\n    color:",";\n"]);return Re=function(){return e},e}function Fe(){var e=Object(Te.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    height: 70px;\n    width:80px;\n    padding:5px;\n    background-color:'#FFF';\n    :hover{\n        background-color:","\n    }\n"]);return Fe=function(){return e},e}var Le=we.a.div(Fe(),(function(e){return e.theme.colors.buttonMinimalHover})),Pe=we.a.label(Re(),(function(e){return e.theme.colors.mono500})),De={BsDash:function(e){return l.a.createElement(Se.e,e)},BsSquare:function(e){return l.a.createElement(Se.h,e)},BsCircle:function(e){return l.a.createElement(Se.b,e)},BsCircleFill:function(e){return l.a.createElement(Se.c,e)},BsCaretRightFill:function(e){return l.a.createElement(Se.a,e)},BsCrop:function(e){return l.a.createElement(Se.d,e)},BsTextareaT:function(e){return l.a.createElement(Se.i,e)}},Be=function(e){var t=Object(re.b)(),n=Object(v.a)(t,2),a=(n[0],n[1]),r=e.item,c=r.label,o=r.icon,i=r.key,u=e.onClick,s=Object(ke.a)(e,["item","onClick"]),d=De[o];return l.a.createElement(Le,Object.assign({},s,{theme:a,onClick:function(){return u(i)}}),l.a.createElement(d,{color:a.colors.mono500}),l.a.createElement(Pe,{theme:a},c))},Me=function(){},Ie=function(e){var t=e.options,n=void 0===t?[]:t,a=e.onClick,r=void 0===a?Me:a;e.overrides;return l.a.createElement(je.a,{items:n,overrides:{Option:{component:Be,props:{onClick:r}}},renderAll:!0})},ze=n(96),Ye=n.n(ze),Ge=n(97),Ne=n.n(Ge),Ve=function(){var e=Object(h.a)(p.a.mark((function e(t){var n,a,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ye()(t);case 2:n=e.sent,a=n.toDataURL("image/png"),(r=new Ne.a).addImage(a,"JPEG",20,20,200,200),r.save("download.pdf");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function He(){var e=Object(Te.a)(["\n    height:40px; \n    width:100%; \n    background-Color:#FFF; \n    position: relative;\n    display: flex;\n    flex-flow: row;\n    justify-content: flex-end;\n    box-shadow: rgba(0, 0, 0, 0.16) 0px 4px 16px;\n"]);return He=function(){return e},e}function Ae(){var e=Object(Te.a)(["\n    display: flex;\n    flex-flow: row;\n    background-color: #F9F9F9;\n"]);return Ae=function(){return e},e}function We(){var e=Object(Te.a)(["\n    display: flex;\n    flex-flow: column;\n    background-color: #F9F9F9;\n"]);return We=function(){return e},e}var Xe=we.a.div(We()),qe=we.a.div(Ae()),Je=we.a.div(He()),Ue=function(){var e=l.a.useState(""),t=Object(v.a)(e,2),n=t[0],r=t[1],c=l.a.useState(""),o=Object(v.a)(c,2),i=o[0],u=o[1],s=l.a.useState(!1),d=Object(v.a)(s,2),f=d[0],m=d[1],g=l.a.useState(!1),E=Object(v.a)(g,2),b=E[0],x=E[1],C=function(e){e.target===e.target.getStage()&&u("")},O=function(){var e=Object(h.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!b){e.next=2;break}return e.abrupt("return");case 2:return x(!0),t=document.querySelector(".konvajs-content > canvas"),e.next=6,Ve(t);case 6:x(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){return r("")};return l.a.createElement(L,null,l.a.createElement(Xe,null,l.a.createElement(Je,null,l.a.createElement(Oe.a,{shape:ye.b.square,overrides:{Root:{style:{marginRight:"15px"}}},disabled:""===i},l.a.createElement(Se.g,null)),l.a.createElement(Oe.a,{shape:ye.b.square,disabled:b,endEnhancer:function(){return l.a.createElement(Se.f,null)},onClick:function(){return O()}},b?"Generating...":"Generate PDF"),l.a.createElement(Oe.a,{endEnhancer:function(){return l.a.createElement(Ce.a,{size:24})},onClick:function(){return m(!0)}},"Open Report")),l.a.createElement(qe,null,l.a.createElement(Ie,{onClick:function(e){return r(e)},options:w}),l.a.createElement(F.Consumer,null,(function(e){return l.a.createElement(B.Stage,{width:window.innerWidth-170,height:window.innerHeight-40,onMouseDown:C,onTouchStart:C},l.a.createElement(F.Provider,{value:e},l.a.createElement(B.Layer,null,l.a.createElement(ue,{selected:i,selectRect:u}),l.a.createElement(q,{selected:i,selectText:u}),l.a.createElement(z,{selected:i,selectValve:u}),l.a.createElement(V,{selected:i,selectDrip:u}),l.a.createElement(Q,{selected:i,selectReducer:u}),l.a.createElement(ge,{selected:i,selectCoupling:u}))))})))),l.a.createElement(ie,{isOpen:n===a.rect,cancell:y}),l.a.createElement(I,{isOpen:n===a.valve,cancell:y}),l.a.createElement(X,{isOpen:n===a.text,cancell:y}),l.a.createElement(N,{isOpen:n===a.drip,cancell:y}),l.a.createElement(K,{isOpen:n===a.reducer,cancell:y}),l.a.createElement(ve,{isOpen:n===a.union,cancell:y}),l.a.createElement(xe,{isOpen:f,cancell:function(){return m(!1)}}))};function $e(){var e=Object(Te.a)(["\n    width: 100%;\n    height: 100vh;\n"]);return $e=function(){return e},e}var Ze=we.a.div($e()),Ke=function(){return l.a.createElement(Ze,null,l.a.createElement(Ue,null))},Qe=new u.a;var _e=function(){return l.a.createElement(s.a,{value:Qe},l.a.createElement(d.a,{theme:f.a},l.a.createElement(Ke,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(_e,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[107,1,2]]]);
//# sourceMappingURL=main.c8d2edf3.chunk.js.map