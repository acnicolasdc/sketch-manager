{"version":3,"sources":["modules/Drawer/utils/_.ts","modules/Drawer/utils/assets.js","modules/Drawer/providers/Store/index.tsx","modules/Drawer/microModules/ValveModule/container/ModalCreator/index.tsx","modules/Drawer/microModules/ValveModule/components/Valve/index.tsx","modules/Drawer/microModules/ValveModule/index.tsx","modules/Drawer/microModules/DripModule/container/ModalCreator/index.tsx","modules/Drawer/microModules/DripModule/components/Drip/index.tsx","modules/Drawer/microModules/DripModule/index.tsx","modules/Drawer/microModules/TextModule/container/ModalCreator/index.tsx","modules/Drawer/microModules/TextModule/components/Text/index.tsx","modules/Drawer/microModules/TextModule/index.tsx","modules/Drawer/microModules/ReducerModule/container/ModalCreator/utils/assets.js","modules/Drawer/microModules/ReducerModule/container/ModalCreator/index.tsx","modules/Drawer/microModules/ReducerModule/components/Reducer/index.tsx","modules/Drawer/microModules/ReducerModule/index.tsx","modules/Drawer/microModules/RectangleModule/container/ModalCreator/utils/assets.js","modules/Drawer/microModules/RectangleModule/container/ModalCreator/ModalCreator.style.js","modules/Drawer/microModules/RectangleModule/container/ModalCreator/index.tsx","modules/Drawer/microModules/RectangleModule/components/Rectangle/index.tsx","modules/Drawer/microModules/RectangleModule/index.tsx","modules/Drawer/microModules/CouplingModule/containers/ModalCreator/index.tsx","modules/Drawer/microModules/CouplingModule/components/SimpleUnion/index.tsx","modules/Drawer/microModules/CouplingModule/components/Union/index.tsx","modules/Drawer/microModules/CouplingModule/index.tsx","modules/Drawer/microModules/InformationModule/index.tsx","modules/Drawer/components/OptionsBar/components/Option/Option.style.js","modules/Drawer/components/OptionsBar/components/Option/index.tsx","modules/Drawer/components/OptionsBar/index.tsx","modules/Drawer/utils/printDocument.ts","modules/Drawer/Drawer.style.js","modules/Drawer/index.tsx","pages/Sketch/Sketch.style.js","pages/Sketch/index.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["ModulesEnum","CouplingEnum","RECT","x","y","width","height","value","data","id","LABEL","fontSize","text","CIRCLE","radius","code","TRIANGLE","COUPLING","type","uni","INITIAL_OPTIONS","label","key","rect","icon","union","valve","drip","reducer","StoreContext","React","createContext","rectangles","reducers","valves","drips","texts","couplings","addText","addReact","addReducers","addValves","addDrips","addCoupling","updateTexts","updateValves","updateReact","updateDrips","updateReducers","updateCouplings","StoreProvider","children","useState","setRect","setTexts","setValves","setDrips","setReducers","setCouplings","_validation","element","Object","keys","length","_addElement","cb","prevState","Provider","FAKE_FN","ModalCreator","cancell","isOpen","Array","fill","setValue","onClose","values","onChange","kind","onClick","autoFocus","newValves","join","Valve","shapeProps","isSelected","onSelect","shapeRef","useRef","trRef","useEffect","current","setNode","getLayer","batchDraw","Fragment","ref","onContextMenu","onTap","draggable","stroke","onTransformEnd","e","node","scaleY","scaleX","Math","max","boundBoxFunc","oldBox","newBox","ValveModal","memo","selected","selectValve","useContext","map","i","window","addEventListener","a","preventDefault","alert","handlerClick","newAttrs","rects","slice","Drip","DripModal","newDrips","selectDrip","Label","textRef","texRef","onDragEnd","target","TextModal","placeholder","newLabel","disabled","selectText","Text","OPTIONS_TYPES_SIZE","Reducer","points","closed","ReducerModal","options","params","newReducer","selectReducer","OPTIONS_TYPES_MATERIAL","OPTIONS_TYPES_METHOD","OPTIONS_TYPES_PRESSURE","Row","styled","display","gridGap","gridTemplateColumns","marginBottom","Rectangle","postionX","cover","rotateAnchorOffset","rotationSnaps","RectangleModal","accept","material","setMaterial","pressure","setPressure","size","setSize","method","setMethod","setLenght","year","setYear","setCover","required","min","overrides","InnerThumb","$value","$thumbIndex","ThumbValue","Thumb","style","alignItems","justifyContent","borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius","borderLeftStyle","borderRightStyle","borderTopStyle","borderBottomStyle","borderLeftWidth","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftColor","borderTopColor","borderRightColor","borderBottomColor","backgroundColor","newRect","parseInt","selectRect","SimpleUnion","ijRef","ijeRef","Union","handleOnTransformEnd","CouplingModal","name","align","ALIGN","horizontal","tf","ij","simple","newCoupling","selectCoupling","grouped","keyGetter","Map","forEach","item","collection","get","push","set","groupBy","newGrouped","newElement","val","val2","header","arrayRects","newHeader","index","secondHEader","headerGenerator","dataGenerator","closeable","animate","SIZE","full","role","ROLE","dialog","columns","OptionContainer","div","props","theme","colors","buttonMinimalHover","OptionLabel","mono500","Icons","BsDash","BsSquare","BsCircle","BsCircleFill","BsCaretRightFill","BsCrop","BsTextareaT","Option","useStyletron","rest","Icon","color","ON_ClICK","OptionsBar","items","component","renderAll","documentGenerator","input","html2canvas","canvas","imgData","toDataURL","pdf","jsPDF","addImage","save","DrawerContainer","DrawerContent","OptionHeader","Drawer","runModule","setRunModule","selectedId","selectShape","openReport","setOpenReport","geratePDF","setGeneratePDF","checkDeselect","getStage","printDocument","document","querySelector","closeModal","Store","shape","SHAPE","square","Root","marginRight","endEnhancer","Consumer","innerWidth","innerHeight","onMouseDown","onTouchStart","Container","Sketch","engine","Styletron","App","LightTheme","Boolean","location","hostname","match","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.c8d2edf3.chunk.js","sourcesContent":["export type Rect = {\n    x?: number;\n    y?: number;\n    width?: number;\n    height?: number;\n    value?: string;\n    data?: any;\n    id?: string;\n}\n\nexport type Label = {\n    x?: number;\n    y?: number;\n    fontSize?: number;\n    text?: string;\n    id?: string;\n}\n\nexport type Circle = {\n    x?: number;\n    y?: number;\n    radius?: number;\n    code?:string;\n    id?: string;\n}\n\nexport type Trinagle = {\n    x?: number;\n    y?: number;\n    value?:string;\n    id?: string;\n}\n\nexport type Options = {\n    label?: string;\n    key?: string;\n    icon?: string;\n}\n\nexport type LineCoupling = {\n    id?: string;\n    x?: number;\n    y?: number;\n    text?: string;\n    type?: string;\n}\n\nexport enum ModulesEnum {\n    rect = \"rect-module\",\n    text = \"text-module\",\n    line = \"line-module\",\n    valve = \"valve-module\",\n    drip = \"drip-module\",\n    reducer = \"reducer-module\",\n    union = \"union-module\",\n}\n\nexport enum CouplingEnum {\n    tf = \"TF\",\n    ij = \"IJ\",\n    simple = \"SM\",\n    uni = \"UNI\",\n}","import { ModulesEnum, CouplingEnum } from './_';\n\nexport const RECT = {\n    x: 200,\n    y: 200,\n    width: 450,\n    height: 5,\n    value:'500\"',\n    data:{},\n    id: 'rect-code'\n}\n\nexport const LABEL = {\n  x: 200,\n  y: 200,\n  fontSize: 15,\n  text: '',\n  id: 'label-code',\n}\n\nexport const CIRCLE = {\n  x: 200,\n  y: 200,\n  radius: 10,\n  code:'V#12345',\n  id: 'circle-code',\n}\n\nexport const TRIANGLE = {\n  x: 200,\n  y: 200,\n  code:'12\"',\n  id: 'triangle-code',\n}\n\nexport const COUPLING = {\n  x: 200,\n  y: 200,\n  id: 'coupling-code',\n  type: CouplingEnum.uni,\n  text: '',\n}\n\nexport const INITIAL_OPTIONS = [\n    {label: 'Pipe', key: ModulesEnum.rect, icon:'BsDash'},\n    {label: 'Coupling', key: ModulesEnum.union, icon:'BsCrop'},\n    {label: 'Valve', key: ModulesEnum.valve, icon:'BsCircle'},\n    {label: 'Drip', key: ModulesEnum.drip, icon:'BsCircleFill'},\n    {label: 'Reducer', key: ModulesEnum.reducer, icon:'BsCaretRightFill'},\n    {label: 'Label', key: ModulesEnum.text, icon:'BsTextareaT'},\n];\n\nexport const INITIAL_RECTS = [\n    {\n      x: 10,\n      y: 10,\n      width: 100,\n      height: 100,\n      fill: 'red',\n      id: 'rect1'\n    },\n    {\n      x: 150,\n      y: 150,\n      width: 100,\n      height: 100,\n      fill: 'green',\n      id: 'rect2'\n    }\n];","import React from 'react';\n\n\nexport interface AppContextInterface {\n    texts: Array<object>,\n    drips: Array<object>,\n    valves: Array<object>,\n    reducers: Array<object>,\n    rectangles: Array<object>,\n    couplings: Array<object>,\n    addText: (element: object) => void,\n    addValves: (element: object) => void,\n    addReducers: (element: object) => void,\n    addDrips: (element: object) => void,\n    addReact: (element: object) => void,\n    addCoupling: (element: object) => void,\n    updateTexts: (texts: Array<object>) => void,\n    updateValves: (valves: Array<object>) => void,\n    updateReducers: (reducers: Array<object>) => void,\n    updateDrips: (drips: Array<object>) => void,\n    updateReact: (rectangles: Array<object>) => void,\n    updateCouplings: (couplings: Array<object>) => void,\n}\n\nexport const StoreContext = React.createContext<AppContextInterface>({\n    rectangles: [],\n    reducers: [],\n    valves: [],\n    drips: [],\n    texts:[],\n    couplings:[],\n    addText: () => {},\n    addReact: () => {},\n    addReducers: () => {},\n    addValves: () => {},\n    addDrips: () => {},\n    addCoupling: () => {},\n    updateTexts: () => {},\n    updateValves: () => {},\n    updateReact: () => {},\n    updateDrips: () => {},\n    updateReducers: () => {},\n    updateCouplings: () => {},\n});\nexport interface StoreProviderProps {\n    children?: React.ReactNode;\n};\n\n\nconst StoreProvider:React.FunctionComponent<StoreProviderProps> = ({ children }) =>{\n    const [rectangles, setRect] =  React.useState<object[]>([]);\n    const [texts, setTexts] =  React.useState<object[]>([]);\n    const [valves, setValves] =  React.useState<object[]>([]);\n    const [drips, setDrips] =  React.useState<object[]>([]);\n    const [reducers, setReducers] =  React.useState<object[]>([]);\n    const [couplings, setCouplings] =  React.useState<object[]>([]);\n\n    const _validation = (element: object = {}): boolean => typeof element === 'object' && Object.keys(element).length !== 0;\n    \n    const _addElement = (element: object = {}, cb: any) => {\n        if(_validation(element)){\n            cb((prevState:any)=>[...prevState, element]);\n        }\n    }\n    const addReact = (element: object = {}) => _addElement(element, setRect);\n    const addText = (element: object = {}) => _addElement(element, setTexts);\n    const addValves = (element: object = {}) => _addElement(element, setValves);\n    const addDrips = (element: object = {}) => _addElement(element, setDrips);\n    const addReducers = (element: object = {}) => _addElement(element, setReducers);\n    const addCoupling = (element: object = {}) => _addElement(element, setCouplings);\n\n    const updateReact = (rectangles:Array<object>) => setRect(rectangles);\n    const updateValves = (valves:Array<object>) => setValves(valves);\n    const updateTexts = (texts:Array<object>) => setTexts(texts);\n    const updateDrips = (drips:Array<object>) => setDrips(drips);\n    const updateReducers = (reducers:Array<object>) => setReducers(reducers);\n    const updateCouplings = (couplings:Array<object>) => setCouplings(couplings);\n    \n    return (\n        <StoreContext.Provider value={{ rectangles, couplings, texts, valves, drips, reducers, addReact, addText, addValves, addDrips, addReducers, updateReact, updateCouplings, updateTexts, updateValves, updateDrips, updateReducers, addCoupling }}>\n            {children}\n        </StoreContext.Provider>\n    )\n}\n\nexport default StoreProvider;\n","import * as React from 'react';\nimport {PinCode} from 'baseui/pin-code';\nimport {\n  Modal,\n  ModalHeader,\n  ModalBody,\n  ModalFooter,\n  ModalButton,\n  FocusOnce,\n} from 'baseui/modal';\nimport { CIRCLE } from '../../../../utils/assets';\nimport { Circle } from '../../../../utils/_';\nimport { StoreContext } from '../../../../providers/Store'\n\nconst FAKE_FN = () => {};\n\nexport interface ModalCreatorProps {\n    cancell?: () => void;\n    isOpen?: boolean;\n};\n\nconst ModalCreator: React.FunctionComponent<ModalCreatorProps> = ({ cancell=FAKE_FN, isOpen= false }) => {\n  const [value, setValue] = React.useState(Array(5).fill(''));\n  const { addValves, valves } = React.useContext(StoreContext);\n\n  const addValve = () => {\n    const newValves: Circle = {...CIRCLE, id:`rect-code-valve-${valves.length}`, code:`V#${value.join('')}`};\n    addValves(newValves);\n    setValue(Array(5).fill(''));\n    cancell();\n  }\n  return (\n      <Modal onClose={cancell} isOpen={isOpen}>\n        <FocusOnce>\n          <ModalHeader>Create a Valve</ModalHeader>\n        </FocusOnce>\n        <ModalBody>\n        <PinCode\n          values={value}\n          onChange={({values}) => {\n            setValue(values);\n          }}\n        />\n        </ModalBody>\n        <ModalFooter>\n          <ModalButton\n            kind=\"tertiary\"\n            onClick={cancell}\n          >\n            Close\n          </ModalButton>\n          <ModalButton autoFocus onClick={addValve}>\n            Create\n          </ModalButton>\n        </ModalFooter>\n      </Modal>\n  );\n}\n\nexport default ModalCreator;","import React from 'react';\nimport { Circle, Transformer, Group, Text } from 'react-konva';\n\nexport interface ValveProps {\n    shapeProps?: any;\n    isSelected?: boolean;\n    onChange?: any;\n    onSelect?: (e:any) => void;\n};\n\nconst Valve: React.FunctionComponent <ValveProps> = ({ shapeProps, isSelected, onSelect, onChange }) => {\n  \n  const shapeRef = React.useRef<HTMLHeadingElement | any>();\n  const trRef = React.useRef<HTMLHeadingElement | any>();\n\n  React.useEffect(() => {\n    if (isSelected) {\n      trRef.current.setNode(shapeRef.current);\n      trRef.current.getLayer().batchDraw();\n    }\n  }, [isSelected]);\n  return (\n    <React.Fragment>\n      <Group ref={shapeRef}\n        onContextMenu={onSelect}\n        onClick={onSelect}\n        onTap={onSelect}     \n        draggable\n      >\n      <Text text={shapeProps.code}fontSize={12} x={shapeProps.x+shapeProps.radius+10} y={shapeProps.y-15}/>\n        <Circle\n          radius={20}\n          stroke=\"#2d3436\"\n          {...shapeProps}\n          onTransformEnd={e => {\n            const node: any = shapeRef.current;\n            const scaleY = node.scaleY();\n            node.scaleX(1);\n            node.scaleY(1);\n            onChange({\n              ...shapeProps,\n              x: node.x(),\n              y: node.y(),\n              radius: Math.max(node.height() * scaleY)\n            });\n          }}\n        />\n      </Group>\n      {isSelected && (\n        <Transformer\n          ref={trRef}\n          boundBoxFunc={(oldBox, newBox) => {\n            if (newBox.width < 5 || newBox.height < 5) {\n              return oldBox;\n            }\n            return newBox;\n          }}\n        />\n      )}\n    </React.Fragment>\n  );\n};\n\nexport default Valve;","import React from 'react'\n \nimport ModalCreator from './container/ModalCreator';\nimport { Circle } from '../../utils/_';\nimport Valve from './components/Valve';\nimport { StoreContext } from '../../providers/Store';\n\nexport interface ValveProps {\n    selected?: string;\n    selectValve?:(id:string)=>void;    \n};\n\nconst ValveModule: React.FunctionComponent<ValveProps> = (\n    {selected='', selectValve = ()=>{}}\n) => {\nconst { updateValves, valves } = React.useContext(StoreContext);\n  const handlerClick = (e:any, id:any) => {\n    if (e.type === 'click') {\n        selectValve(id);\n      } else if (e.type === 'contextmenu') {\n        window.addEventListener(\"contextmenu\", function(a){ a.preventDefault()})\n        alert('Right click');\n      }\n  }\n  return (\n    <React.Fragment>\n    {valves?.map((element: Circle, i: number) => {\n        return (\n        <Valve\n            key={i}\n            shapeProps={element}\n            isSelected={element.id === selected}\n            onSelect={(e:any) => handlerClick(e, element.id)}\n            onChange={(newAttrs: object) => {\n                const rects = valves.slice();\n                rects[i] = newAttrs;\n                updateValves(rects);\n            }}\n            />\n        );\n    })}\n    </React.Fragment>\n  );\n}\n\nexport const ValveModal = ModalCreator;\nexport default React.memo(ValveModule);\n","import * as React from 'react';\nimport {PinCode} from 'baseui/pin-code';\nimport {\n  Modal,\n  ModalHeader,\n  ModalBody,\n  ModalFooter,\n  ModalButton,\n  FocusOnce,\n} from 'baseui/modal';\nimport { CIRCLE } from '../../../../utils/assets';\nimport { Circle } from '../../../../utils/_';\nimport { StoreContext } from '../../../../providers/Store'\n\nconst FAKE_FN = () => {};\n\nexport interface ModalCreatorProps {\n    cancell?: () => void;\n    isOpen?: boolean;\n};\n\nconst ModalCreator: React.FunctionComponent<ModalCreatorProps> = ({ cancell=FAKE_FN, isOpen= false }) => {\n  const [value, setValue] = React.useState(Array(5).fill(''));\n  const { addDrips, drips } = React.useContext(StoreContext);\n\n  const addValve = () => {\n    const newDrips: Circle = {...CIRCLE, id:`rect-code-drip-${drips.length}`, code:`D#${value.join('')}`};\n    addDrips(newDrips);\n    setValue(Array(5).fill(''));\n    cancell();\n  }\n  return (\n      <Modal onClose={cancell} isOpen={isOpen}>\n        <FocusOnce>\n          <ModalHeader>Create a Drip</ModalHeader>\n        </FocusOnce>\n        <ModalBody>\n        <PinCode\n          values={value}\n          onChange={({values}) => {\n            setValue(values);\n          }}\n        />\n        </ModalBody>\n        <ModalFooter>\n          <ModalButton\n            kind=\"tertiary\"\n            onClick={cancell}\n          >\n            Close\n          </ModalButton>\n          <ModalButton autoFocus onClick={addValve}>\n            Create\n          </ModalButton>\n        </ModalFooter>\n      </Modal>\n  );\n}\n\nexport default ModalCreator;","import React from 'react';\nimport { Circle, Transformer, Group, Text } from 'react-konva';\n\nexport interface DripProps {\n    shapeProps?: any;\n    isSelected?: boolean;\n    onChange?: any;\n    onSelect?: (e:any) => void;\n};\n\nconst Drip: React.FunctionComponent <DripProps> = ({ shapeProps, isSelected, onSelect, onChange }) => {\n  \n  const shapeRef = React.useRef<HTMLHeadingElement | any>();\n  const trRef = React.useRef<HTMLHeadingElement | any>();\n\n  React.useEffect(() => {\n    if (isSelected) {\n      trRef.current.setNode(shapeRef.current);\n      trRef.current.getLayer().batchDraw();\n    }\n  }, [isSelected]);\n\n  return (\n    <React.Fragment>\n      <Group ref={shapeRef}\n        onContextMenu={onSelect}\n        onClick={onSelect}\n        onTap={onSelect}\n        draggable\n      >\n      <Text text={shapeProps.code}fontSize={12} x={shapeProps.x+shapeProps.radius+10} y={shapeProps.y-15}/>\n        <Circle\n          radius={20}\n          fill=\"#4d73be\"\n          {...shapeProps}\n          onTransformEnd={e => {\n            const node: any = shapeRef.current;\n            const scaleY = node.scaleY();\n            node.scaleX(1);\n            node.scaleY(1);\n            onChange({\n              ...shapeProps,\n              x: node.x(),\n              y: node.y(),\n              radius: Math.max(node.height() * scaleY)\n            });\n          }}\n        />\n      </Group>\n      {isSelected && (\n        <Transformer\n          ref={trRef}\n          boundBoxFunc={(oldBox, newBox) => {\n            // limit resize\n            if (newBox.width < 5 || newBox.height < 5) {\n              return oldBox;\n            }\n            return newBox;\n          }}\n        />\n      )}\n    </React.Fragment>\n  );\n};\n\nexport default Drip;","import React from 'react'\nimport ModalCreator from './container/ModalCreator';\nimport { Circle } from '../../utils/_';\nimport Drip from './components/Drip';\nimport { StoreContext } from '../../providers/Store';\n\nexport interface DripProps {\n    selected?: string;\n    selectDrip?:(id:string)=>void;    \n};\n\nconst DripModule: React.FunctionComponent<DripProps> = (\n    {selected='', selectDrip = ()=>{}}\n) => {\nconst { updateDrips, drips } = React.useContext(StoreContext);\n  const handlerClick = (e:any, id:any) => {\n    if (e.type === 'click') {\n        selectDrip(id);\n      } else if (e.type === 'contextmenu') {\n        window.addEventListener(\"contextmenu\", function(a){ a.preventDefault()})\n        alert('Right click');\n      }\n  }\n  return (\n    <React.Fragment>\n    {drips?.map((element: Circle, i: number) => {\n        return (\n        <Drip\n            key={i}\n            shapeProps={element}\n            isSelected={element.id === selected}\n            onSelect={(e:any) => handlerClick(e, element.id)}\n            onChange={(newAttrs: object) => {\n                const rects = drips.slice();\n                rects[i] = newAttrs;\n                updateDrips(rects);\n            }}\n            />\n        );\n    })}\n    </React.Fragment>\n  );\n}\n\nexport const DripModal = ModalCreator;\nexport default React.memo(DripModule)\n","import * as React from 'react';\nimport { Input } from \"baseui/input\";\nimport {\n  Modal,\n  ModalHeader,\n  ModalBody,\n  ModalFooter,\n  ModalButton,\n  FocusOnce,\n} from 'baseui/modal';\nimport { LABEL } from '../../../../utils/assets';\nimport { Label } from '../../../../utils/_';\nimport { StoreContext } from '../../../../providers/Store'\n\nconst FAKE_FN = () => {};\n\nexport interface ModalCreatorProps {\n    cancell?: () => void;\n    isOpen?: boolean;\n};\n\nconst ModalCreator: React.FunctionComponent<ModalCreatorProps> = ({ cancell=FAKE_FN, isOpen= false }) => {\n  const [value, setValue] = React.useState<string>('');\n  const { addText, texts } = React.useContext(StoreContext);\n\n  const addLabel = () => {\n    const newLabel: Label = {...LABEL, id:`rect-code-text-${texts.length}`, text: value};\n    addText(newLabel);\n    setValue('');\n    cancell();\n  }\n\n  return (\n      <Modal onClose={cancell} isOpen={isOpen}>\n        <FocusOnce>\n          <ModalHeader>Create a Label</ModalHeader>\n        </FocusOnce>\n        <ModalBody>\n        <Input\n          value={value}\n          onChange={(e: any) => setValue(e.target.value)}\n          placeholder=\"Label text\"\n        />\n        </ModalBody>\n        <ModalFooter>\n          <ModalButton\n            kind=\"tertiary\"\n            onClick={cancell}\n          >\n            Close\n          </ModalButton>\n          <ModalButton autoFocus onClick={addLabel} disabled={value === ''}>\n            Create\n          </ModalButton>\n        </ModalFooter>\n      </Modal>\n  );\n}\n\nexport default ModalCreator;","import React from 'react';\nimport { Text, Transformer } from 'react-konva';\n\nexport interface LabelProps {\n    shapeProps?: object;\n    isSelected?: boolean;\n    onChange?: any;\n    onSelect?: (e:any) => void;\n};\n\nconst Label: React.FunctionComponent <LabelProps> = ({ shapeProps, isSelected, onSelect, onChange }) => {\n  const textRef = React.useRef<HTMLHeadingElement | any>();\n  const texRef = React.useRef<HTMLHeadingElement | any>();\n\n  React.useEffect(() => {\n    if (isSelected) {\n      // we need to attach transformer manually\n      texRef.current.setNode(textRef.current);\n      texRef.current.getLayer().batchDraw();\n    }\n  }, [isSelected]);\n  return (\n    <React.Fragment>\n      <Text\n        onContextMenu={onSelect}\n        onClick={onSelect}\n        onTap={onSelect}\n        ref={textRef}\n        {...shapeProps}\n        draggable\n        onDragEnd={e => {\n          onChange({\n            ...shapeProps,\n            x: e.target.x(),\n            y: e.target.y()\n          });\n        }}\n        onTransformEnd={e => {\n          // transformer is changing scale of the node\n          // and NOT its width or height\n          // but in the store we have only width and height\n          // to match the data better we will reset scale on transform end\n          const node: any = textRef.current;\n          const scaleX = node.scaleX();\n          const scaleY = node.scaleY();\n          // we will reset it back\n          node.scaleX(1);\n          node.scaleY(1);\n          onChange({\n            ...shapeProps,\n            x: node.x(),\n            y: node.y(),\n            fontSize: Math.max(node.height() * scaleY),\n            // set minimal value\n            width: Math.max(5, node.width() * scaleX),\n            height: Math.max(node.height() * scaleY)\n          });\n        }}\n      />\n    {isSelected && (\n        <Transformer\n          ref={texRef}\n          boundBoxFunc={(oldBox, newBox) => {\n            // limit resize\n            if (newBox.width < 5 || newBox.height < 5) {\n              return oldBox;\n            }\n            return newBox;\n          }}\n        />\n      )}\n    </React.Fragment>\n  );\n};\n\nexport default Label;","import React from 'react'\n \nimport ModalCreator from './container/ModalCreator';\nimport { Label } from '../../utils/_';\nimport Text from './components/Text';\nimport { StoreContext } from '../../providers/Store';\n\nexport interface RectangleProps {\n    selected?: string;\n    selectText?:(id:string)=>void;    \n};\n\n\nconst TextModule: React.FunctionComponent<RectangleProps> = (\n    {selected='', selectText = ()=>{}}\n) => {\n  const { texts, updateTexts } = React.useContext(StoreContext);\n  const handlerClick = (e:any, id:any) => {\n    if (e.type === 'click') {\n        selectText(id);\n      } else if (e.type === 'contextmenu') {\n        window.addEventListener(\"contextmenu\", function(a){ a.preventDefault()})\n        alert('Right click');\n      }\n  }\n  return (\n    <React.Fragment>\n      {texts?.map((element: Label, i: number) => {\n          return (\n            <Text\n              key={i} \n              shapeProps={element}\n              isSelected={element.id === selected}\n              onSelect={(e:any) => handlerClick(e, element.id)}\n              onChange={(newAttrs: object) => {\n                const rects = texts.slice();\n                rects[i] = newAttrs;\n                updateTexts(rects);\n            }}\n            />\n          );\n      })}\n    </React.Fragment>\n  );\n}\n\nexport const TextModal = ModalCreator;\nexport default React.memo(TextModule)\n","export const OPTIONS_TYPES_SIZE = [\n    { label: '2\"x1\"', id: '2\"x1\"' },\n    { label: '2\"x1-1/4\"', id: '2\"x1-1/4\"' },\n    { label: '4\"x2\"', id: '4\"x2\"' },\n    { label: '6\"x4\"', id: '6\"x4\"' },\n    { label: '8\"x6\"', id: '8\"x6\"' },\n    { label: '12\"x8\"', id: '12\"x8\"' },\n    { label: '16\"x12\"', id: '16\"x12\"' },\n    { label: '20\"x12\"', id: '20\"x12\"' },\n];","import * as React from 'react';\nimport { Select } from \"baseui/select\";\nimport {\n  Modal,\n  ModalHeader,\n  ModalBody,\n  ModalFooter,\n  ModalButton,\n  FocusOnce,\n} from 'baseui/modal';\nimport { TRIANGLE } from '../../../../utils/assets';\nimport { Trinagle } from '../../../../utils/_';\nimport { StoreContext } from '../../../../providers/Store'\nimport { OPTIONS_TYPES_SIZE } from './utils/assets';\n\nconst FAKE_FN = () => {};\n\nexport interface ModalCreatorProps {\n    cancell?: () => void;\n    isOpen?: boolean;\n};\n\nconst ModalCreator: React.FunctionComponent<ModalCreatorProps> = ({ cancell=FAKE_FN, isOpen= false }) => {\n  const [value, setValue] = React.useState<any[]>([]);\n  const { addReducers, reducers } = React.useContext(StoreContext);\n\n  const addReducer = () => {\n    const newReducer: Trinagle = {...TRIANGLE, id:`rect-code-reducer-${reducers.length}`, value:`${value[0].label}`};\n    addReducers(newReducer);\n    setValue([]);\n    cancell();\n  }\n  const formVerification = ():boolean => {\n    if(value.length === 0)return true;\n    return false;\n  }\n  return (\n      <Modal onClose={cancell} isOpen={isOpen}>\n        <FocusOnce>\n          <ModalHeader>Create a Reducer</ModalHeader>\n        </FocusOnce>\n        <ModalBody>\n        <Select\n              options={OPTIONS_TYPES_SIZE}\n              value={value}\n              placeholder=\"Select size\"\n              onChange={(params:any) => setValue(params.value)}\n        />\n        </ModalBody>\n        <ModalFooter>\n          <ModalButton\n            kind=\"tertiary\"\n            onClick={cancell}\n          >\n            Close\n          </ModalButton>\n          <ModalButton autoFocus onClick={addReducer} disabled={formVerification()}>\n            Create\n          </ModalButton>\n        </ModalFooter>\n      </Modal>\n  );\n}\n\nexport default ModalCreator;","import React from 'react';\nimport { Line, Transformer, Group, Text } from 'react-konva';\n\nexport interface ReducerProps {\n    shapeProps?: any;\n    isSelected?: boolean;\n    onChange?: any;\n    onSelect?: (e:any) => void;\n};\n\nconst Reducer: React.FunctionComponent <ReducerProps> = ({ shapeProps, isSelected, onSelect, onChange }) => {\n  \n  const shapeRef = React.useRef<HTMLHeadingElement | any>();\n  const trRef = React.useRef<HTMLHeadingElement | any>();\n\n  React.useEffect(() => {\n    if (isSelected) {\n      trRef.current.setNode(shapeRef.current);\n      trRef.current.getLayer().batchDraw();\n    }\n  }, [isSelected]);\n  return (\n    <React.Fragment>\n      <Group ref={shapeRef}\n        onContextMenu={onSelect}\n        onClick={onSelect}\n        onTap={onSelect}\n        draggable\n      >\n      <Text text={shapeProps.value}fontSize={12} x={shapeProps.x+30} y={shapeProps.y}/>\n        <Line\n          points={[0, 30, 15, 0, 30, 30]}\n          closed\n          fill=\"#2d3436\"\n          {...shapeProps}\n          onTransformEnd={e => {\n            const node: any = shapeRef.current;\n            const scaleY = node.scaleY();\n            node.scaleX(1);\n            node.scaleY(1);\n            onChange({\n              ...shapeProps,\n              x: node.x(),\n              y: node.y(),\n              radius: Math.max(node.height() * scaleY)\n            });\n          }}\n        />\n      </Group>\n      {isSelected && (\n        <Transformer\n          ref={trRef}\n          boundBoxFunc={(oldBox, newBox) => {\n            // limit resize\n            if (newBox.width < 5 || newBox.height < 5) {\n              return oldBox;\n            }\n            return newBox;\n          }}\n        />\n      )}\n    </React.Fragment>\n  );\n};\n\nexport default Reducer;","import React from 'react'\n \nimport ModalCreator from './container/ModalCreator';\nimport { Rect } from '../../utils/_';\nimport Reducer from './components/Reducer';\nimport { StoreContext } from '../../providers/Store';\n\nexport interface ReducerProps {\n    selected?: string;\n    selectReducer?:(id:string)=>void;    \n};\n\n\nconst ReducerModule: React.FunctionComponent<ReducerProps> = (\n    {selected='', selectReducer = ()=>{}}\n) => {\nconst { updateReducers, reducers } = React.useContext(StoreContext);\n  const handlerClick = (e:any, id:any) => {\n    if (e.type === 'click') {\n        selectReducer(id);\n      } else if (e.type === 'contextmenu') {\n        window.addEventListener(\"contextmenu\", function(a){ a.preventDefault()})\n        alert('Right click');\n      }\n  }\n  return (\n    <React.Fragment>\n    {reducers?.map((element: Rect, i: number) => {\n        return (\n        <Reducer\n            key={i}\n            shapeProps={element}\n            isSelected={element.id === selected}\n            onSelect={(e:any) => handlerClick(e, element.id)}\n            onChange={(newAttrs: object) => {\n                const rects = reducers.slice();\n                rects[i] = newAttrs;\n                updateReducers(rects);\n            }}\n            />\n        );\n    })}\n    </React.Fragment>\n  );\n}\n\nexport const ReducerModal = ModalCreator;\nexport default React.memo(ReducerModule);\n","export const OPTIONS_TYPES_MATERIAL = [\n    { label: \"PE\", id: \"PE\" },\n    { label: \"PT\", id: \"PT\" },\n    { label: \"ST\", id: \"ST\" },\n    { label: \"ST (C)\", id: \"ST(C)\" },\n    { label: \"CI\", id: \"CI\" },\n    { label: \"CT\", id: \"CT\" },\n    { label: \"WI\", id: \"WI\" },\n];\n\nexport const OPTIONS_TYPES_METHOD = [\n    { label: \"DB\", id: \"DB\" },\n    { label: \"INSERT\", id: \"INSERT\" },\n    { label: \"HOLEHOG\", id: \"HOLEHOG\" },\n    { label: \"PIM\", id: \"PIM\" },\n    { label: \"CONSPLIT\", id: \"CONSPLIT\" },\n];\n\nexport const OPTIONS_TYPES_PRESSURE = [\n    { label: \"LP\", id: \"LP\" },\n    { label: \"MP\", id: \"MP\" },\n    { label: \"IP\", id: \"IP\" },\n    { label: \"HP\", id: \"HP\" },\n    { label: \"TP\", id: \"TP\" },\n];\nexport const OPTIONS_TYPES_SIZE = [\n    { label: '1\"', id: \"1\" },\n    { label: '1-1/4\"', id: \"1-1/4\" },\n    { label: '1-1/2\"', id: \"1-1/2\" },\n    { label: '2\"', id: \"2\" },\n    { label: '3\"', id: \"3\" },\n    { label: '4\"', id: \"4\" },\n    { label: '6\"', id: \"6\" },\n    { label: '8\"', id: \"8\" },\n    { label: '12\"', id: \"12\" },\n    { label: '16\"', id: \"16\" },\n    { label: '20\"', id: \"20\" },\n    { label: '24\"', id: \"24\" },\n];","import { styled } from 'baseui';\n\nexport const Row = styled('div', {\n    display: 'grid',\n    gridGap: '10px',\n    gridTemplateColumns: 'repeat(2, 1fr)',\n    marginBottom:'10px'\n});\n","import * as React from 'react';\nimport { Select } from \"baseui/select\";\nimport { Input } from \"baseui/input\";\nimport { Slider } from \"baseui/slider\";\nimport {\n  Modal,\n  ModalHeader,\n  ModalBody,\n  ModalFooter,\n  ModalButton,\n  FocusOnce,\n} from 'baseui/modal';\nimport { RECT } from '../../../../utils/assets';\nimport { Rect } from '../../../../utils/_';\nimport { StoreContext } from '../../../../providers/Store';\nimport { OPTIONS_TYPES_MATERIAL, OPTIONS_TYPES_METHOD, OPTIONS_TYPES_PRESSURE, OPTIONS_TYPES_SIZE } from './utils/assets';\nimport { Row } from './ModalCreator.style';\nconst FAKE_FN = () => {};\n\nexport interface ModalCreatorProps {\n    accept?: () => void;\n    cancell?: () => void;\n    isOpen?: boolean;\n};\n\nconst ModalCreator: React.FunctionComponent<ModalCreatorProps> = ({accept=FAKE_FN, cancell=FAKE_FN, isOpen= false}) => {\n  const [material, setMaterial] = React.useState<any[]>([]);\n  const [pressure, setPressure] = React.useState<any[]>([]);\n  const [ size, setSize ] = React.useState<any[]>([]);\n  const [ method, setMethod ] = React.useState<any[]>([]);\n  const [length, setLenght] = React.useState('');\n  const [ year, setYear] = React.useState('');\n  const [ cover, setCover ] = React.useState([70]);\n\n  const { addReact, rectangles } = React.useContext(StoreContext);\n  const generateData = (): object => {\n    const data = {\n      material:material[0].label,\n      pressure:pressure[0].label,\n      size:size[0].label,\n      method:method[0].label,\n      length:length,\n      year:year,\n      cover:cover[0],\n    }\n    return data;\n  }\n  const addRectangle = () => {\n      const newRect:Rect = {\n        ...RECT, \n        id:`rect-code-pipe-${rectangles.length}`, \n        value:`${length}'`, \n        width: parseInt(length, 10),\n        data: generateData()\n      };\n      addReact(newRect);\n      cancell();  \n  }\n\n  const formVerification = ():boolean => {\n    if(material.length === 0 || pressure.length === 0)return true;\n    if(size.length === 0 || method.length === 0)return true;\n    if(year === '' || cover.length === 0 || length === '')return true;\n    return false;\n  }\n  return (\n      <Modal onClose={cancell} isOpen={isOpen}>\n        <FocusOnce>\n          <ModalHeader>Create a Pipe</ModalHeader>\n        </FocusOnce>\n        <ModalBody>\n          <Row>\n            <Select\n              options={OPTIONS_TYPES_MATERIAL}\n              value={material}\n              placeholder=\"Select material\"\n              onChange={(params:any) => setMaterial(params.value)}\n            />\n            <Select\n              options={OPTIONS_TYPES_METHOD}\n              value={method}\n              placeholder=\"Select method\"\n              onChange={(params:any) => setMethod(params.value)}\n            />\n          </Row>\n          <Row>\n          <Select\n              options={OPTIONS_TYPES_SIZE}\n              value={size}\n              placeholder=\"Select size\"\n              onChange={(params:any) => setSize(params.value)}\n            />\n            <Select\n              options={OPTIONS_TYPES_PRESSURE}\n              value={pressure}\n              placeholder=\"Select pressure\"\n              onChange={(params:any) => setPressure(params.value)}\n            />\n          </Row>\n          <Row>\n              <Input\n                required\n                value={year}\n                onChange={(e: any) => setYear(e.target.value)} \n                placeholder=\"Year\"\n              />\n              <Input\n                required \n                value={length}\n                onChange={(e: any) => setLenght(e.target.value)}\n                placeholder=\"Length\"\n              />\n          </Row>\n          <Slider\n            value={cover}\n            min={10}\n            max={100}\n            onChange={({value}) => setCover(value)}\n            overrides={{\n              InnerThumb: ({$value, $thumbIndex}) => (\n                <React.Fragment>{$value[$thumbIndex]+'\"'}</React.Fragment>\n              ),\n              ThumbValue: () => null,\n              Thumb: {\n                style: () => ({\n                  height: '36px',\n                  width: '36px',\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'center',\n                  borderTopLeftRadius: '36px',\n                  borderTopRightRadius: '36px',\n                  borderBottomRightRadius: '36px',\n                  borderBottomLeftRadius: '36px',\n                  borderLeftStyle: 'solid',\n                  borderRightStyle: 'solid',\n                  borderTopStyle: 'solid',\n                  borderBottomStyle: 'solid',\n                  borderLeftWidth: '3px',\n                  borderTopWidth: '3px',\n                  borderRightWidth: '3px',\n                  borderBottomWidth: '3px',\n                  borderLeftColor: `#ccc`,\n                  borderTopColor: `#ccc`,\n                  borderRightColor: `#ccc`,\n                  borderBottomColor: `#ccc`,\n                  backgroundColor: '#fff',\n              }),\n              },\n            }}\n          />\n        </ModalBody>\n        <ModalFooter>\n          <ModalButton\n            kind=\"tertiary\"\n            onClick={cancell}\n          >\n            Close\n          </ModalButton>\n          <ModalButton autoFocus onClick={addRectangle} disabled={formVerification()}>\n            Create\n          </ModalButton>\n        </ModalFooter>\n      </Modal>\n  );\n}\n\nexport default ModalCreator;","import React from 'react';\nimport { Rect, Transformer, Group, Text } from 'react-konva';\n\nexport interface RectangleProps {\n    shapeProps?: any;\n    isSelected?: boolean;\n    onChange?: any;\n    onSelect?: (e:any) => void;\n};\n\nconst Rectangle: React.FunctionComponent <RectangleProps> = ({ shapeProps, isSelected, onSelect, onChange }) => {\n  \n  const shapeRef = React.useRef<HTMLHeadingElement | any>();\n  const trRef = React.useRef<HTMLHeadingElement | any>();\n\n  React.useEffect(() => {\n    if (isSelected) {\n      trRef.current.setNode(shapeRef.current);\n      trRef.current.getLayer().batchDraw();\n    }\n  }, [isSelected]);\n  const postionX = shapeProps.x + (shapeProps.width / 2);\n  return (\n    <React.Fragment>\n      <Group \n        ref={shapeRef}\n        onContextMenu={onSelect}\n        onClick={onSelect}\n        onTap={onSelect}\n        draggable\n      >\n      <Text text={`Length: ${shapeProps.value}`}fontSize={12} x={postionX} y={shapeProps.y-15}/>\n      <Rect\n        fill='#2d3436'\n        {...shapeProps}\n        onTransformEnd={e => {\n          const node: any = shapeRef.current;\n          const scaleX = node.scaleX();\n          const scaleY = node.scaleY();\n          // we will reset it back\n          node.scaleX(1);\n          node.scaleY(1);\n          onChange({\n            ...shapeProps,\n            x: node.x(),\n            y: node.y(),\n            // set minimal value\n            width: Math.max(5, node.width() * scaleX),\n            height: Math.max(node.height() * scaleY)\n          });\n        }}\n      />\n      <Text text={`Cover: ${shapeProps.data.cover}\"`}fontSize={12} x={postionX} y={shapeProps.y+10}/>\n      </Group>\n      {isSelected && (\n        <Transformer\n          ref={trRef}\n          rotateAnchorOffset={100}\n          rotationSnaps={[45,90, 135, 180, 225, 270, 315, 360]}\n          boundBoxFunc={(oldBox, newBox) => {\n            if (newBox.width < 5 || newBox.height < 5) {\n              return oldBox;\n            }\n            newBox.height = oldBox.height;\n            return newBox;\n          }}\n        />\n      )}\n    </React.Fragment>\n  );\n};\n\nexport default Rectangle;","import React from 'react'\nimport ModalCreator from './container/ModalCreator';\nimport { Rect } from '../../utils/_';\nimport Rectangle from './components/Rectangle';\nimport { StoreContext } from '../../providers/Store';\n\nexport interface RectangleProps {\n    selected?: string;\n    selectRect?:(id:string)=>void;    \n};\n\n\nconst RectangleModule: React.FunctionComponent<RectangleProps> = (\n    {selected='', selectRect = ()=>{}}\n) => {\nconst { updateReact, rectangles } = React.useContext(StoreContext);\n  const handlerClick = (e:any, id:any) => {\n    if (e.type === 'click') {\n        selectRect(id);\n      } else if (e.type === 'contextmenu') {\n        window.addEventListener(\"contextmenu\", function(a){ a.preventDefault()})\n        alert('Right click');\n      }\n  }\n  return (\n    <React.Fragment>\n    {rectangles?.map((element: Rect, i: number) => {\n        return (\n        <Rectangle\n            key={i}\n            shapeProps={element}\n            isSelected={element.id === selected}\n            onSelect={(e:any) => handlerClick(e, element.id)}\n            onChange={(newAttrs: object) => {\n                const rects = rectangles.slice();\n                rects[i] = newAttrs;\n                updateReact(rects);\n            }}\n            />\n        );\n    })}\n    </React.Fragment>\n  );\n}\n\nexport const RectangleModal = ModalCreator;\nexport default React.memo(RectangleModule);\n","import * as React from 'react';\nimport {\n  Modal,\n  ModalHeader,\n  ModalBody,\n  ModalFooter,\n  ModalButton,\n  FocusOnce,\n} from 'baseui/modal';\nimport { RadioGroup, Radio, ALIGN } from \"baseui/radio\";\nimport { COUPLING } from '../../../../utils/assets';\nimport { LineCoupling, CouplingEnum } from '../../../../utils/_';\nimport { StoreContext } from '../../../../providers/Store'\nconst FAKE_FN = () => {};\n\nexport interface ModalCreatorProps {\n    cancell?: () => void;\n    isOpen?: boolean;\n};\n\nconst ModalCreator: React.FunctionComponent<ModalCreatorProps> = ({ cancell=FAKE_FN, isOpen= false }) => {\n  const [value, setValue] = React.useState<string>('ji');\n  const { addCoupling, couplings } = React.useContext(StoreContext);\n\n  const addCouplings = () => {\n    const text = value==='simple'?'':value;\n    const newCoupling: LineCoupling = {...COUPLING, id:`rect-code-coypling-${couplings.length}`, text, type:value};\n    addCoupling(newCoupling);\n    setValue('');\n    cancell();\n  }\n\n  return (\n      <Modal onClose={cancell} isOpen={isOpen}>\n        <FocusOnce>\n          <ModalHeader>Create a Coupling</ModalHeader>\n        </FocusOnce>\n        <ModalBody>\n        <RadioGroup\n          value={value}\n          onChange={e => setValue(e.target.value)}\n          name=\"coupling\"\n          align={ALIGN.horizontal}\n        >\n          <Radio value={CouplingEnum.tf}>TF</Radio>\n          <Radio\n            value={CouplingEnum.ij}\n          >\n            JI\n          </Radio>\n          <Radio value={CouplingEnum.uni}>Union</Radio>\n          <Radio value={CouplingEnum.simple}>Simple</Radio>\n        </RadioGroup>\n \n        </ModalBody>\n        <ModalFooter>\n          <ModalButton\n            kind=\"tertiary\"\n            onClick={cancell}\n          >\n            Close\n          </ModalButton>\n          <ModalButton autoFocus onClick={addCouplings} disabled={value === ''}>\n            Create\n          </ModalButton>\n        </ModalFooter>\n      </Modal>\n  );\n}\n\nexport default ModalCreator;","import React from 'react';\nimport { Line, Transformer, Group, Text } from 'react-konva';\n\nexport interface SimpleUnionProps {\n    shapeProps?: any;\n    isSelected?: boolean;\n    onChange?: any;\n    onSelect?: (e:any) => void;\n};\n\nconst SimpleUnion: React.FunctionComponent <SimpleUnionProps> = ({ shapeProps, isSelected, onSelect, onChange }) => {\n  const ijRef = React.useRef<HTMLHeadingElement | any>();\n  const ijeRef = React.useRef<HTMLHeadingElement | any>();\n\n  React.useEffect(() => {\n    if (isSelected) {\n      ijeRef.current.setNode(ijRef.current);\n      ijeRef.current.getLayer().batchDraw();\n    }\n  }, [isSelected]);\n  return (\n    <React.Fragment>\n    <Group\n      onContextMenu={onSelect}\n      onClick={onSelect}\n      onTap={onSelect}\n      ref={ijRef}\n      draggable\n    >\n      <Line\n        points={[0, 60, 0, 100]}\n        stroke=\"#2d3436\"\n        {...shapeProps}\n        onTransformEnd={e => {\n          const node: any = ijRef.current;\n          const scaleY = node.scaleY();\n          node.scaleX(1);\n          node.scaleY(1);\n          onChange({\n            ...shapeProps,\n            x: node.x(),\n            y: node.y(),\n            height: Math.max(node.height() * scaleY)\n          });\n        }}\n      />\n    <Text text={shapeProps.text} fontSize={12} x={shapeProps.x-6} y={shapeProps.y+110}/>\n    </Group>\n    {isSelected && (\n        <Transformer\n          ref={ijeRef}\n          boundBoxFunc={(oldBox, newBox) => {\n            if (newBox.width < 5 || newBox.height < 5) {\n              return oldBox;\n            }\n            newBox.height = oldBox.height;\n            return newBox;\n          }}\n        />\n      )}\n    </React.Fragment>\n  );\n};\n\nexport default SimpleUnion;","import React from 'react';\nimport { Line, Transformer, Group } from 'react-konva';\n\nexport interface UnionProps {\n    shapeProps?: any;\n    isSelected?: boolean;\n    onChange?: any;\n    onSelect?: (e:any) => void;\n};\n\nconst Union: React.FunctionComponent <UnionProps> = ({ shapeProps, isSelected, onSelect, onChange }) => {\n  const ijRef = React.useRef<HTMLHeadingElement | any>();\n  const ijeRef = React.useRef<HTMLHeadingElement | any>();\n\n  React.useEffect(() => {\n    if (isSelected) {\n      ijeRef.current.setNode(ijRef.current);\n      ijeRef.current.getLayer().batchDraw();\n    }\n  }, [isSelected]);\n\n  const handleOnTransformEnd = () => {\n    const node: any = ijRef.current;\n    const scaleY = node.scaleY();\n    node.scaleX(1);\n    node.scaleY(1);\n    onChange({\n      ...shapeProps,\n      x: node.x(),\n      y: node.y(),\n      height: Math.max(node.height() * scaleY)\n    });\n  }\n  return (\n    <React.Fragment>\n    <Group ref={ijRef}\n    onContextMenu={onSelect}\n    onClick={onSelect}\n    onTap={onSelect}\n    draggable\n    >\n    <Line\n      points={[10, 50, 10, 80]}\n      stroke=\"#2d3436\"\n       {...shapeProps}\n       onTransformEnd={handleOnTransformEnd}\n    />\n    <Line\n      points={[30, 50, 30, 80]}\n      stroke=\"#2d3436\"\n       {...shapeProps}\n       onTransformEnd={handleOnTransformEnd}\n    />\n    <Line\n      points={[5, 55, 35, 55]}\n      stroke=\"#2d3436\"\n       {...shapeProps}\n       onTransformEnd={handleOnTransformEnd}\n    />\n    <Line\n      points={[5, 75, 35, 75]}\n      stroke=\"#2d3436\"\n       {...shapeProps}\n       onTransformEnd={handleOnTransformEnd}\n    />\n    </Group>\n    {isSelected && (\n        <Transformer\n          ref={ijeRef}\n          boundBoxFunc={(oldBox, newBox) => {\n            if (newBox.width < 5 || newBox.height < 5) {\n              return oldBox;\n            }\n            return newBox;\n          }}\n        />\n      )}\n    </React.Fragment>\n  );\n};\n\nexport default Union;","import React from 'react'\nimport ModalCreator from './containers/ModalCreator';\nimport { LineCoupling, CouplingEnum } from '../../utils/_';\nimport SimpleUnion from './components/SimpleUnion';\nimport Union from './components/Union';\nimport { StoreContext } from '../../providers/Store';\n\nexport interface RectangleProps {\n    selected?: string;\n    selectCoupling?:(id:string)=>void;    \n};\n\n\nconst CouplingModule: React.FunctionComponent<RectangleProps> = (\n    {selected='', selectCoupling = ()=>{}}\n) => {\n  const { couplings, updateCouplings } = React.useContext(StoreContext);\n  const handlerClick = (e:any, id:any) => {\n    if (e.type === 'click') {\n        selectCoupling(id);\n      } else if (e.type === 'contextmenu') {\n        window.addEventListener(\"contextmenu\", function(a){ a.preventDefault()})\n        alert('Right click');\n      }\n  }\n  return (\n    <React.Fragment>\n      {couplings?.map((element: LineCoupling, i: number) => {\n          if(CouplingEnum.uni === element.type){\n            return (\n              <Union\n              key={i} \n              shapeProps={element}\n              isSelected={element.id === selected}\n              onSelect={(e:any) => handlerClick(e, element.id)}\n              onChange={(newAttrs: object) => {\n                const rects = couplings.slice();\n                rects[i] = newAttrs;\n                updateCouplings(rects);\n            }}\n            />\n\n            )\n          }\n          return (\n            <SimpleUnion\n              key={i} \n              shapeProps={element}\n              isSelected={element.id === selected}\n              onSelect={(e:any) => handlerClick(e, element.id)}\n              onChange={(newAttrs: object) => {\n                const rects = couplings.slice();\n                rects[i] = newAttrs;\n                updateCouplings(rects);\n            }}\n            />\n          );\n      })}\n    </React.Fragment>\n  );\n}\n\nexport const CouplingModal = ModalCreator;\nexport default React.memo(CouplingModule)\n","import * as React from \"react\";\nimport { Table } from \"baseui/table\";\nimport {\n  Modal,\n  ModalHeader,\n  ModalBody,\n  SIZE,\n  ROLE\n} from \"baseui/modal\";\nimport { StoreContext } from '../../providers/Store';\n\nexport interface InformationProps {\n    isOpen?: boolean;\n    cancell?: () => void\n};\n\n\nconst InformationModule: React.FunctionComponent<InformationProps> = ({ isOpen=false, cancell=()=>{} }) => {\n const { rectangles } = React.useContext(StoreContext);\n\n const headerGenerator = (arrayRects: any[] = []): string[] => {\n    const newHeader = arrayRects.map((element, index)=>`SEGMENT ${index+1}`)\n    const secondHEader = ['', ...newHeader]\n     return secondHEader;\n }\n\n const groupBy = (keyGetter:(item:object, key:string)=> void):any => {\n    const map = new Map();\n    rectangles.forEach((item:any) => {\n        const size = keyGetter(item,'size');\n        const material = keyGetter(item,'material');\n        const pressure = keyGetter(item,'pressure');\n        const method = keyGetter(item,'method');\n        const year = keyGetter(item,'year');\n        const key = `${size}/${material}/${pressure}/${method}/${year}`;\n         const collection = map.get(key);\n         if (!collection) {\n             map.set(key, [item]);\n         } else {\n             collection.push(item);\n         }\n    });\n    return map;\n}\nconst sumStrings = (val:string, val2: string): number => {\n    return parseInt(val, 10)+parseInt(val2, 10);\n}\n\n const dataGenerator = (): any => {\n     const size = ['SIZE'];\n     const year = ['YEAR'];\n     const cover = ['COVER'];\n     const length = ['LENGTH'];\n     const material = ['MATERIAL'];\n     const method = ['METHOD'];\n     const pressure = ['PRESSURE'];\n    const grouped = groupBy((item:any, key:string)=>item.data[key]);\n    const newGrouped:any = [];\n    grouped.forEach((value:any[]) => {\n        let newElement:any = {}\n        value.forEach(({data}:any) => {\n            newElement = {\n                ...data,\n                length: newElement.length?sumStrings(newElement.length,data.length):parseInt(data.length)\n            }\n        });\n        newGrouped.push(newElement);\n    });\n    const header = headerGenerator(newGrouped);\n    newGrouped.forEach((data:any)=>{\n        Object.keys(data).forEach(key => {\n            switch (key) {\n                case 'size':\n                    size.push(data[key])\n                    break;\n                case 'year':\n                    year.push(data[key])\n                    break;\n                case 'cover':\n                    cover.push(data[key])\n                    break;\n                case 'length':\n                    length.push(`${data[key]}'`)\n                    break;\n                case 'material':\n                    material.push(data[key])\n                        break;\n                case 'method':\n                    method.push(data[key])\n                    break;\n                case 'pressure':\n                    pressure.push(data[key])\n                    break;           \n            }\n        })\n    })\n    return { data: [size, year, cover, length, material, method, pressure], header:header};\n }\n const {data, header} = dataGenerator();\n  return (\n    <Modal\n      onClose={cancell}\n      closeable\n      isOpen={isOpen}\n      animate\n      autoFocus\n      size={SIZE.full}\n      role={ROLE.dialog}\n    >\n      <ModalHeader>Report status</ModalHeader>\n      <ModalBody>\n      <Table\n      columns={header}\n      data={data}\n    />\n      </ModalBody>\n    </Modal>\n  );\n}\n\nexport default React.memo(InformationModule);\n","import styled from 'styled-components';\n\nexport const OptionContainer = styled.div`\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    height: 70px;\n    width:80px;\n    padding:5px;\n    background-color:'#FFF';\n    :hover{\n        background-color:${props => props.theme.colors.buttonMinimalHover}\n    }\n`;\n\nexport const OptionLabel = styled.label`\n    margin-top:3px;\n    color:${props => props.theme.colors.mono500};\n`;","import React from 'react';\nimport {useStyletron} from 'baseui';\nimport { BsSquare, BsCircle, BsTextareaT, BsDash, BsCircleFill, BsCaretRightFill, BsCrop } from \"react-icons/bs\";\nimport { OptionContainer,  OptionLabel } from './Option.style';\n\nexport interface OptionProps {\n    props?: object;\n};\n\nconst Icons:any = {\n    BsDash: (props:object) => (<BsDash {...props}/>),\n    BsSquare: (props:object) => (<BsSquare {...props}/>),\n    BsCircle: (props:object) => (<BsCircle {...props}/>),\n    BsCircleFill: (props:object) => (<BsCircleFill {...props}/>),\n    BsCaretRightFill: (props:object) => (<BsCaretRightFill {...props}/>),\n    BsCrop: (props:object) => (<BsCrop {...props}/>),\n    BsTextareaT: (props:object) => (<BsTextareaT {...props}/>),\n}\n\nconst Option: React.FunctionComponent<OptionProps> = (props) => {\n    const [css, theme] = useStyletron();\n    const { item:{label, icon, key}, onClick, ...rest }:any = props;\n    const Icon = Icons[icon];\n    return (\n        <OptionContainer {...rest} theme={theme} onClick={()=>onClick(key)}>\n            <Icon color={theme.colors.mono500}/>\n            <OptionLabel theme={theme} >{label}</OptionLabel>\n        </OptionContainer>\n    )\n}\n\nexport default Option\n","import React from 'react';\nimport { StatefulMenu } from \"baseui/menu\";\nimport Option from './components/Option';\nimport { Options } from '../../utils/_';\n\nconst ON_ClICK = () => {};\n\nexport interface ButtonRadioGroupProps {\n    overrides?: object;\n    options?: Array<Options>;\n    onClick?: (key: string) => void;\n};\n\nconst OptionsBar: React.FunctionComponent<ButtonRadioGroupProps> = ({ options = [], onClick = ON_ClICK, overrides = {}}) => {\n    return (\n        <StatefulMenu\n            items={options}\n            overrides={{\n                Option: {\n                    component: Option,\n                    props:{\n                        onClick:onClick\n                    }\n                }\n            }}\n            renderAll\n      />\n    )\n}\n\nexport default OptionsBar;\n","import html2canvas from 'html2canvas';\nimport jsPDF from 'jspdf'\n\nconst documentGenerator = async ( input:HTMLElement ) => {\n    const canvas = await html2canvas(input);\n    const imgData = canvas.toDataURL('image/png');\n    const pdf = new jsPDF();\n    pdf.addImage(imgData, 'JPEG', 20, 20, 200, 200);\n    pdf.save(\"download.pdf\");\n}\n\nexport default documentGenerator;","import styled from 'styled-components';\n\nexport const DrawerContainer = styled.div`\n    display: flex;\n    flex-flow: column;\n    background-color: #F9F9F9;\n`;\nexport const DrawerContent = styled.div`\n    display: flex;\n    flex-flow: row;\n    background-color: #F9F9F9;\n`;\n\nexport const OptionHeader = styled.div`\n    height:40px; \n    width:100%; \n    background-Color:#FFF; \n    position: relative;\n    display: flex;\n    flex-flow: row;\n    justify-content: flex-end;\n    box-shadow: rgba(0, 0, 0, 0.16) 0px 4px 16px;\n`;","import React from 'react';\n/** @microModules Functionality */\nimport ValveModule, { ValveModal } from './microModules/ValveModule';\nimport DripModule, { DripModal } from './microModules/DripModule';\nimport TextModule, { TextModal } from './microModules/TextModule';\nimport ReducerModule, { ReducerModal } from './microModules/ReducerModule';\nimport RectangleModule, { RectangleModal } from './microModules/RectangleModule';\nimport CouplingModule, { CouplingModal } from './microModules/CouplingModule';\nimport InformationModule from './microModules/InformationModule';\nimport StoreProvider, { StoreContext } from './providers/Store';\n/** @components Presentantional Elements */\nimport { Stage, Layer } from 'react-konva';\nimport {ChevronDown} from 'baseui/icon';\nimport {Button, SHAPE} from 'baseui/button'\nimport OptionsBar from './components/OptionsBar';\nimport { BsFillTrashFill, BsFileEarmarkArrowDown } from \"react-icons/bs\";\n/** @utils Types, Enums and Styles */\nimport { INITIAL_OPTIONS } from './utils/assets';\nimport { ModulesEnum } from './utils/_';\nimport documentGenerator from './utils/printDocument';\nimport { DrawerContainer, OptionHeader, DrawerContent } from './Drawer.style';\n\n\nconst Drawer: React.FunctionComponent = () => {\n  const [runModule, setRunModule] = React.useState<string>('');\n  const [selectedId, selectShape] = React.useState<string>('');\n  const [openReport, setOpenReport] = React.useState<boolean>(false);\n  const [geratePDF, setGeneratePDF] = React.useState<boolean>(false);\n\n  const checkDeselect = (e: any) => {\n    const clickedOnEmpty = e.target === e.target.getStage();\n    if (clickedOnEmpty) {\n      selectShape('');\n    }\n  };\n\n  const printDocument = async () => {\n    if(geratePDF) return;\n    setGeneratePDF(true);\n    const input:any = document.querySelector('.konvajs-content > canvas')\n    await documentGenerator(input);\n    setGeneratePDF(false);\n  }\n\n  const closeModal = () => setRunModule('');\n  const cancellReport = () => setOpenReport(false);\n\n  return (\n    <StoreProvider>\n      <DrawerContainer>\n      <OptionHeader>\n      <Button shape={SHAPE.square} overrides={{ Root:{ style:{ marginRight: '15px'} } }} disabled={selectedId===''}>\n        <BsFillTrashFill />\n      </Button>\n      <Button shape={SHAPE.square}  \n        disabled={geratePDF}\n        endEnhancer={() => <BsFileEarmarkArrowDown />}\n        onClick={()=>printDocument()}>\n        {geratePDF?\"Generating...\":\"Generate PDF\"}\n      </Button>\n      <Button endEnhancer={() => <ChevronDown size={24} />}\n        onClick={()=>setOpenReport(true)}\n      >\n        Open Report\n      </Button>\n      </OptionHeader>\n      <DrawerContent>\n          <OptionsBar\n              onClick={(key: string)=>setRunModule(key)} \n              options={INITIAL_OPTIONS}\n          />\n            <StoreContext.Consumer>\n              {value => (\n                  <Stage\n                      width={window.innerWidth-170}\n                      height={window.innerHeight-40}\n                      onMouseDown={checkDeselect}\n                      onTouchStart={checkDeselect}>\n                        <StoreContext.Provider value={value}>\n                          <Layer>\n                            <RectangleModule\n                              selected={selectedId}\n                              selectRect={selectShape}\n                            />\n                            <TextModule \n                              selected={selectedId}\n                              selectText={selectShape}\n                            />\n                            <ValveModule \n                              selected={selectedId}\n                              selectValve={selectShape}\n                            />\n                            <DripModule \n                              selected={selectedId}\n                              selectDrip={selectShape}\n                            />\n                            <ReducerModule\n                              selected={selectedId}\n                              selectReducer={selectShape}\n                            />\n                            <CouplingModule\n                              selected={selectedId}\n                              selectCoupling={selectShape}\n                            />\n                          </Layer>                            \n                        </StoreContext.Provider>\n                  </Stage>\n              )}\n            </StoreContext.Consumer>\n            </DrawerContent>\n        </DrawerContainer>\n      <RectangleModal isOpen={runModule===ModulesEnum.rect} cancell={closeModal}/>\n      <ValveModal isOpen={runModule===ModulesEnum.valve} cancell={closeModal}/>\n      <TextModal isOpen={runModule===ModulesEnum.text} cancell={closeModal}/>\n      <DripModal isOpen={runModule===ModulesEnum.drip} cancell={closeModal}/>\n      <ReducerModal isOpen={runModule===ModulesEnum.reducer} cancell={closeModal}/>\n      <CouplingModal isOpen={runModule===ModulesEnum.union} cancell={closeModal}/>\n      <InformationModule isOpen={openReport} cancell={cancellReport}/>\n    </StoreProvider>\n  );\n}\n\nexport default Drawer\n","import styled from 'styled-components';\n\nexport const Container = styled.div`\n    width: 100%;\n    height: 100vh;\n`; ","import React from 'react';\nimport Drawer from 'modules/Drawer'\nimport { Container } from './Sketch.style';\n\nconst Sketch = () => {\n    return (\n        <Container>\n            <Drawer />\n        </Container>\n    )\n}\n\nexport default Sketch;\n","import React from 'react';\nimport {Client as Styletron} from 'styletron-engine-atomic';\nimport {Provider as StyletronProvider} from 'styletron-react';\nimport {LightTheme, BaseProvider } from 'baseui';\nimport Sketch from 'pages/Sketch';\n\nconst engine = new Styletron();\n\nfunction App() {\n  return (\n      <StyletronProvider value={engine}>\n        <BaseProvider theme={LightTheme}>\n          <Sketch />\n        </BaseProvider>\n      </StyletronProvider>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}